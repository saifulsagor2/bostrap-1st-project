(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68280],{93138:(e,t,r)=>{"use strict";r.d(t,{t:()=>_});var a=r(406029),i=r(602875),s=r(907422),n=r(995683),l=r(36992),o=r(87034),c=r(758018),u=r(513372),d=r(727326),m=r(559044),p=r(358915),h=r(168663),f=r(193487),b=r(461266),g=r(807703),y=r(835207);let v=(0,g.n9)()((e,t)=>{let{tokens:{spacing:r}}=e,{isPreUnlimitedRedesign:a}=t;return{root:{marginBottom:r.xl},header:{marginBottom:r.base},ctaButton:{padding:`7px ${r.m} 0px ${r.m}`},contents:{display:"flex",alignItems:"center",height:"100%",justifyContent:a?"flex-start":"space-between"}}}),w=(0,h.I4)(),_=e=>{let{assets:t=b.tR,buttonLabel:r="",gridSpacing:h=f.LW,maxRows:g=2,pathProps:_=w,showAssetTypeIcon:T=!1,title:C,listId:I,withInlineCta:x=!1,useCssGrid:k=!1,showCtaProp:A=!0,isCustomMobileGridWidth:j=!1,assetOverlayProps:S,gridId:$="related-images-section",analyticsEventLabel:P,position:E}=e,B=(0,p.X)(),{classes:U}=v({isPreUnlimitedRedesign:B}),{isGridEmpty:N,isGridLoading:O}=(0,l.k)(t),M=(0,m.En)(t),[L,G]=_,D=A&&!!r&&!!L,F={href:L,linkAs:G},q="string"==typeof C?C.replace(/ /g,"-"):"non-string-mock";return!N&&M&&(0,a.jsxs)(i.A,{id:$,"data-automation":q,container:!0,className:U.root,children:[(0,a.jsx)(i.A,{container:!0,className:U.header,children:(0,a.jsx)(i.A,{size:12,children:(0,a.jsxs)(s.A,{className:U.contents,children:[(0,a.jsx)(y._,{title:C,isGridLoading:O}),D&&x&&(0,a.jsx)(s.A,{className:B&&U.ctaButton,children:(0,a.jsx)(u.$n,{labelTrack:d.Qvr,color:B?"info":"primary",component:c.N,size:"medium",rel:"nofollow",variant:B?"text":"outlined","data-automation":C,...F,children:r})})]})})}),(0,a.jsx)(n.MosaicAssetGridWithViews,{assets:t,listId:I,hasMaxWidth:!0,maxRows:g,withLoadingSkeletons:!0,numOfSkeletonRows:g,spacing:h,hasMobileScroll:!0,showAssetTypeIcon:T,xl:3,useCssGrid:k,isCustomMobileGridWidth:j,assetOverlayProps:S,analyticsEventLabel:P,position:E}),D&&!x&&(0,a.jsx)(s.A,{display:"flex",justifyContent:"center",width:"100%",children:(0,a.jsx)(o.a,{additionalButtonProps:{labelTrack:d.Qvr},label:r,...F,mt:4})})]})}},95807:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});let a=e=>{let{subscriptions:t,licenseName:r}=e;return t?.find(e=>e.license===r)}},122479:e=>{e.exports=function(e){return e}},123169:(e,t,r)=>{var a=r(445516);e.exports=function(){return a.Date.now()}},130682:(e,t,r)=>{"use strict";r.d(t,{b:()=>l,q:()=>n});var a=r(930500),i=r(559044),s=r(48007);let n=e=>{let{uniqueSubscription:t}=e;if(!t)return{};let{priceAsAbsolute:r,creditCurrency:n,product:l}=t,o=(0,s.t)({subscription:t}),c=n??l?.currency;if(!r){let{creditPrice:e,creditType:r=a.EV}=t;return{price:`${(0,i.YO)({price:e,isUnlimited:o})}`,priceType:r,currency:c}}let{price:u,priceType:d}=r;return{price:`${(0,i.YO)({price:u,isUnlimited:o})}`,priceType:d,currency:c}},l=e=>{let{uniqueSubscription:t}=e;if(!t)return{};let{currency:r,currencyCost:s}=t;return{price:`${(0,i.YO)({price:s,isUnlimited:!1})}`,priceType:a.EV,currency:r}}},132756:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var a=r(571024),i=r.n(a),s=r(998370);let n=i()(()=>Promise.all([r.e(27510),r.e(71321)]).then(r.bind(r,5526)).then(e=>({default:e.VideoGridItem})),{loadableGenerated:{webpack:()=>[5526]},loading:s.m})},263739:(e,t,r)=>{"use strict";r.d(t,{A:()=>w,As:()=>u,J_:()=>c,KC:()=>f,Wk:()=>h,en:()=>m,fy:()=>y,nR:()=>b,uO:()=>d,ul:()=>v,zZ:()=>g});var a=r(532598),i=r(813631),s=r(705992),n=r(485650),l=r(559044),o=r(531648);let c=e=>{let{license:t,existingAssetsLicenses:r}=e;if(!r)return!(t?.licenseName&&n.t9I.includes(t?.licenseName))&&r;let a=(0,o.xB)({asset:t.mediaItem});return!!r?.[t.mediaItem?.id]?.some(e=>e!==n.H8E[a])},u=e=>{let{subscriptions:t=[]}=e;return t.some(e=>{let{redeemableFor:t}=e;return n.E11.some(e=>e===t)})?n.Ngi:n.jH2},d=e=>e.reduce((e,t)=>{let r=t.licenseId;return e.includes(r)||e.push(r),e},[]),m=e=>{let{alreadyLicensedAssets:t,asset:r}=e;return!!t.find(e=>{let{contentId:t,contentType:a,licenseId:s}=e,n=r.type===i.W1?i.vo:r.type;return t===r.id&&a===n&&s===r.licenseId})},p=e=>{let{licenseType:t,existingLicenses:r,asset:a,isSelect:i=!1}=e,s=[`footage_${t}_sd`,`footage_${t}_hd`],n=[...s,`footage_${t}_lowres`];return(i&&s.push(`footage_${t}_4k`),a.licenseId===`footage_${t}_sd`)?r?.some(e=>!!s.includes(e)):a.licenseId===`footage_${t}_lowres`&&r?.some(e=>!!n.includes(e))},h=e=>{let{existingLicenses:t,asset:r}=e;switch(r.type){case i.BI:case i.G_:if(n.dO2.some(e=>p({asset:r,licenseType:e,existingLicenses:t})))return!0;return!!t?.includes(r.licenseId);case i.W1:default:return!!t?.includes(r.licenseId?.replace(/_unlimited/,""))}},f=e=>{let{error:t={},t:r}=e,{meta:a={}}=t;if(a?.exception_type===n.o__){let{value:e}=a.errors.slice(-1).pop(),t="comp_limit"===e.name;return r("P1M"===e.period_length?t?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":t?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return r("ent:license_now_error_message")},b=e=>{let t,{error:r={},user:a={}}=e,{detail:i,headers:l={},message:o,meta:c={},name:u,source:d={},title:m}=r,{id:p,username:h,organizationId:f}=a||{},b=c?.exception_type,g=d?.request?.id||l?.[s.A2];switch(b){case n.o__:{let e=c.errors?.map(e=>{let{value:t}=e;return t?.name});t=`${m}: ${e.join(",")}`;break}case n.Bxr:{let e=c.errors?.map(e=>{let{code:t,value:r}=e;return`${t}: ${r?.content_type} - ${r?.content_id} - ${r?.content_size}`});t=`${m}: ${e.join(",")}`;break}default:t=[b,m,i,o,u].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:f,userId:p,username:h,errorSummary:t,error:r,requestId:g}},g=e=>{let{organizationId:t}=e;return`organization-${t}`},y=e=>{let{isEligibilityLoading:t,existingCurrentAssetLiceses:r}=e;return t?void 0:r||[]},v=e=>{let{asset:t,selectedLicenseId:r,activeFormatType:i,selectedShadowsOption:s}=e;return{...t,itemType:t.itemType||(0,o.Qk)({asset:t}),licenseId:r,...i===a.kr&&{licenseAsJpeg:!0},...(0,l.R1)(t)?{selectedFormatType:i,selectedShadowsOption:s}:{}}},w=e=>{let{assets:t=[]}=e;return t.length&&t.map(e=>e.licenseId).filter((e,t,r)=>r.indexOf(e)===t)||[]}},268958:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var a=r(930500);let i=e=>{let{canShowLedgerLowBalance:t,hasInsufficientSubscriptionCredits:r=!1,units:i,amount:s,initialCommitment:n}=e;if(r)return!1;let l=a.Gy[i];return t&&l?Number(s)<=l:Number(s)<=Number(n)*a.O7}},350438:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var a=r(571024),i=r.n(a),s=r(998370);let n=i()(()=>Promise.all([r.e(27510),r.e(49867)]).then(r.bind(r,452264)).then(e=>({default:e.ImageGridItem})),{loadableGenerated:{webpack:()=>[452264]},loading:s.m})},366092:(e,t,r)=>{"use strict";r.d(t,{_B:()=>J,Ym:()=>H,ng:()=>ee,Nc:()=>et,_R:()=>Z,Fh:()=>X,tS:()=>er,gz:()=>ei});var a=r(936479),i=r(487519),s=r(648973),n=r(532598),l=r(338436),o=r(813631),c=r(514264),u=r(345307),d=r(969185),m=r(915261),p=r(930500),h=r(693417),f=r(573923),b=r(116835),g=r(531648),y=r(559044),v=r(644783),w=r(871335),_=r(268958);let T=e=>{let{items:t,assetEligibleSubscriptions:r,canShowLedgerLowBalance:a}=e,i={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:p.mz};return t.reduce((e,t)=>{let{licenseId:s,price:n,id:l}=t,o=r?.[l]?.licenseSubscriptions.find(e=>e.license===s);if(!o)return i;let{totalPrepaidAmount:c,prepaidAmountRemaining:u,currency:d,costType:m}=o,p=parseFloat(n),h=parseFloat(e.total)+p;return e.total+=p,"currency"===m&&h>u&&(e.hasInsufficientSubscriptionCredits=!0,e.hasLowDebitableBalance=!1,e.insufficientAmount=h-u),e.hasLowDebitableBalance=(0,_.I)({canShowLedgerLowBalance:a,hasInsufficientSubscriptionCredits:e.hasInsufficientSubscriptionCredits,units:d,amount:u,initialCommitment:c}),e},i)};var C=r(422207),I=r(48007),x=r(585076),k=r(560325),A=r(130682),j=r(957160),S=r(462430),$=r(867666),P=r(516319),E=r(355790),B=r(921075),U=r(238990),N=r(531950),O=r(524335),M=r(293251),L=r(12482),G=r(981278),D=r(455729),F=r(726988),q=r(498848),z=r(30721);let R="Size limit warning",W=e=>{let{item:t,subscriptions:r}=e,{itemType:a,metadata:i}=t,s=(0,y.Q)({asset:t}),n=i?.cart?.licenseId,{allSubscriptions:l}=r;switch(a){case o.G_:return(0,j.d)({licenseName:n,subscriptions:l});case o.FY:case o.M9:case o.W1:default:return(0,k.A)({licenseName:n,subscriptions:l,assetType:a,contentTier:s})}},V=e=>{let{item:t}=e;return t.largeThumb?.url||t.preview?.url||t.preview||t.thumb||""},K=e=>{let{asset:t}=e;return t.itemType===o.W1&&!t.sizes&&!t.metadata?.cart.sizes},Y=e=>{let{item:t}=e,r=(0,y.$9)(t);if(t.itemType===o.m$){let e=t?.product?.productPreviews[0]?.previewThumbnailImages?.find(e=>{let{resolution:t}=e;return"res600x600"===t}),r={[l.jx]:{height:600,width:600,src:`https://${e?.assetFile?.s3Path}`}};return{[l.jx]:{height:600,width:600,src:(0,v.c0)({...t,angle:t?.metadata?.cart?.angle,displays:r})}}}return r?{[l.pI]:{height:t.height||t.preview?.height,width:t.width||t.preview?.width,src:t.preview||t.thumb}}:{[l.jx]:{height:t.largeThumb?.height||t.preview?.height,width:t.largeThumb?.width||t.preview?.width,src:t.preview?.url}}},Q=e=>{let{item:t,price:r,priceType:a,currency:i,subscriptionId:s,hasCreditsRemaining:n,isUnlimited:c,isUnavailableSubscription:u}=e,d=Y({item:t}),p=V({item:t}).replace("-150nw","-260nw")||d?.[l.jx]?.src,h=t.assets?.find(e=>{let{assetClass:t}=e;return t===m.Iw}),b=[o.m$,o.W1].includes(t.itemType)&&!t.src,g=t?.externalSource?.details?.pixelsquid?.product?.metadata?.isEditorial,y=t.meta?.search_context;return t.metadata?.cart?.searchContext&&(y=(0,f.fF)({trackingId:t.metadata?.cart?.searchContext?.searchTrackingId,searchTerm:t.metadata?.cart?.searchContext?.searchTerm})),{...t,id:t.itemId,...[o.W1,o.m$,o.uH,o.rr].some(e=>e===t.itemType)&&{image:{id:t.itemId,categories:t.categories,description:t.description||t.subhead||"",url:p,isEditorial:!!t.isEditorial||!!g,isPremium:!!t.isPremium,displays:d,permalink:t.permalink,isIllustration:t.isIllustration,isVector:t.isVector}},type:t.itemType,isFootageSelect:t.footageSelect,price:r,priceType:a,waveformPng:t.waveformPng||h?.externalUrl,currency:i,licenseId:t.metadata?.cart?.licenseId||"",subscriptionId:s,hasCreditsRemaining:n,isPixelSquid:t.itemType===o.m$,isUnavailableAsset:K({asset:t}),isUnlimited:c,isUnavailableSubscription:u,meta:{...y?{search_context:y}:{}},...b&&{src:p}}},H=e=>{let{cartItems:t=[],subscriptions:r}=e;return t.filter(e=>[o.W1,o.m$,o.G_,o.FY,o.M9,o.uH,o.rr].includes(e.itemType)).map(e=>{let t=W({item:e,subscriptions:r}),{price:a=0,priceType:i=p.EV}=(0,A.q)({uniqueSubscription:t});return Q({item:e,price:a,priceType:i,currency:t?.creditCurrency||"",subscriptionId:t?.id||"-",isUnavailableSubscription:!t,hasCreditsRemaining:(0,C.X)({subscription:t}),isUnlimited:(0,I.t)({subscription:t})})})},J=e=>{let{isPrimary:t,isLedger:r=!1,isEnterpriseCartEndpointsMigration:s=!1}=e;if(s){let e=t?c.jT:c.pw;return(0,i.yT)({urlParams:{cartType:e},...r&&{queryParams:{isLedger:r}}}).formattedUrl}return(0,a.Xl)({urlParams:{isPrimary:t},...r&&{queryParams:{isLedger:r}}}).formattedUrl},Z=e=>{let{isPrimary:t}=e,r=(0,M.jE)(),a=(0,z.i9)(),{data:i}=(0,E.R7)(),{checkGate:s}=(0,O.U)(),n=s(d.Kk),l=J({isPrimary:t,isEnterpriseCartEndpointsMigration:n}),o=n?N.Bn:N.C2,{data:c,error:u,isLoading:m}=(0,L.I)({queryKey:[l],enabled:!!(a&&i),queryFn:()=>o.get(l).then(e=>{let{data:t}=e;return t&&{...t,items:H({cartItems:t.items,subscriptions:i})}}).catch(e=>{throw window.NREUM?.recordCustomEvent?.(h.s,{url:l,errorMessage:e.message,errorStack:e.stack}),e})});return{data:c,error:u,isLoading:m,mutate:async e=>e?r.setQueryData([l],e):r.invalidateQueries({queryKey:[l]})}},X=e=>{let{isPrimary:t}=e,r=(0,M.jE)(),a=(0,z.i9)(),{checkGate:i}=(0,O.U)(),s=i(d.Kk),n=J({isPrimary:t,isLedger:!0,isEnterpriseCartEndpointsMigration:s}),l=s?N.Bn:N.C2,{data:c}=(0,L.I)({queryKey:[n],enabled:a,queryFn:()=>l.get(n).then(e=>{let{data:t}=e;return t&&{...t,items:t.items.filter(e=>[o.W1,o.m$,o.G_,o.FY,o.M9,o.uH,o.rr].includes(e.itemType))}}).catch(e=>{throw window.NREUM?.recordCustomEvent?.(h.s,{url:n,errorMessage:e.message,errorStack:e.stack}),e})});return{data:c,mutate:async e=>e?r.setQueryData([n],e):r.invalidateQueries({queryKey:[n]})}},ee=e=>{let{cartItems:t=[],assetEligibleSubscriptions:r}=e;return t.map(e=>{let{id:t,itemType:a,metadata:{cart:{licenseId:i}={}}={}}=e??{},s=(0,S.S)({assetType:a,subscriptions:r?.[t]?.licenseSubscriptions,selectedLicenseId:i}),{price:n=0,priceType:l=p.EV}=(0,A.b)({uniqueSubscription:s});return Q({item:e,price:n,priceType:l,currency:s?.currency||s?.creditCurrency||"",subscriptionId:s?.id||"-",isUnavailableSubscription:!s,hasCreditsRemaining:!0,isUnlimited:(0,I.t)({subscription:s})})})},et=()=>{let e=(0,M.jE)(),[t,r]=(0,D.useState)({status:"",error:void 0}),[l,m]=(0,D.useState)(!1),p=(0,D.useRef)(!1),{checkGate:h}=(0,O.U)(),f=h(d.Kk),{productAddedAnalyticsEvent:y,cartViewedAnalyticsEvent:v,productRemovedAnalyticsEvent:w}=(0,F.f)(),{getSearchContext:_}=(0,q.J)(),T=(0,G.useRouter)(),C=(0,U.O)(1e3),{queueIpReview:I}=(0,$.F)({trackingId:_()?.search_tracking_id,onComplete:C}),x=(0,D.useCallback)(e=>{void 0===e?.cartId||p.current||(p.current=!0,v(e))},[p,v]),k=(0,D.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{let{id:r}=e;return -1===t.findIndex(e=>{let{id:t}=e;return`${r}`==`${t}`})})},[]),A=(0,D.useCallback)(e=>{let{cartItems:t=[],itemsToAdd:r=[]}=e,a=[...t];return r.forEach(e=>{let t=(0,g.Qk)({asset:e}),r=a.findIndex(r=>{let{id:a,type:i}=r;return`${a}`==`${e.id}`&&i===t});r>-1?a[r]={...e}:a.unshift({...e,addedTime:new Date})}),a},[]),j=(0,D.useCallback)(async e=>{let{items:t,licenseId:r,licenseAsJpeg:a}=e;return Promise.all(t?.map(async e=>{let t=(0,g.Qk)({asset:e}),i=r||e.licenseId,s=a||e.licenseAsJpeg,n=await (0,b.og)({asset:e,licenseName:i});return{item_id:e.id,item_type:t,metadata:{cart:{license_id:i,license_as_jpeg:s,subscription_id:e.subscriptionId,size:n.content_size,format:n.content_format,sizes:(0,b.Rj)({asset:e}),search_context:_(e),source:[o.uH,o.rr].some(e=>e===t)?u.Au:"",...t===o.m$&&{angle:n.angle}}}}}))},[_]),S=(0,D.useCallback)(async t=>{let{cart:l,eventLabel:o,gridItems:u,isPrimary:d=!0,itemsToAdd:p,licenseId:h,formatType:b,licensePrice:g,mutateCart:v,withOptimisticUpdate:T=!0,pageSection:C,listId:x}=t;try{let e=p.map(e=>({...e,meta:{search_context:_(e),...e.meta}}));r({status:"",error:void 0}),m(!1);let t=A({cartItems:l.items,itemsToAdd:e});if(t.length>c.Zm){r({status:s.Nz}),m(!0);return}T&&v(e=>({...e,items:t}));let k=await j({items:e,licenseId:h,licenseAsJpeg:b===n.kr});if(f){let e=d?c.jT:c.pw,t=(0,i.AG)({urlParams:{cartType:e}}).formattedUrl;await N.Bn.post(t,k)}else{let e=(0,a.bE)({urlParams:{isPrimary:d}}).formattedUrl;await N.C2.post(e,k)}r({status:s.qO}),I(p),d&&e.forEach(e=>{let t=l.items.find(t=>{let{id:r}=t;return`${r}`==`${e.id}`});t&&h!==t.licenseId&&w({cart:l,eventLabel:o,gridItems:u,items:[e],matchingCartItem:t,pageSection:C}),y({cart:l,eventLabel:o,gridItems:u,items:[e],licenseId:h,licensePrice:g,pageSection:C,listId:x})})}catch(e){r({status:s.Nz,error:e})}finally{await e.invalidateQueries({queryKey:[J({isPrimary:d,isLedger:!0,isEnterpriseCartEndpointsMigration:f})]}),await e.invalidateQueries({queryKey:[J({isPrimary:d,isEnterpriseCartEndpointsMigration:f})]})}},[A,j,_,y,w,e,I,f]),P=(0,D.useCallback)(async t=>{let{cartData:r,eventLabel:s,gridItems:n,isPrimary:l=!0,itemsToRemove:o=[],mutateCart:u,pageSection:d,routePathProps:m,withOptimisticUpdate:p=!0,mutateCallback:h}=t;try{p&&u(e=>({...e,items:k(e.items,o)}),!1);let e=null,t=null;if(f){let r=l?c.jT:c.pw;t=(0,i.v7)({urlParams:{cartType:r}}).formattedUrl,e=N.Bn}else t=(0,a.dt)({urlParams:{isPrimary:l}}).formattedUrl,e=N.C2;await e.delete(t,{data:o.map(e=>({item_id:e.id,item_type:(0,g.Qk)({asset:e})}))}),l&&w({cart:r,eventLabel:s,gridItems:n,items:o,pageSection:d}),m&&T.push(...m)}catch(e){}finally{h?h({isPrimary:l}):(await e.invalidateQueries({queryKey:[J({isPrimary:l,isLedger:!0,isEnterpriseCartEndpointsMigration:f})]}),await e.invalidateQueries({queryKey:[J({isPrimary:l,isEnterpriseCartEndpointsMigration:f})]}))}},[k,w,T,e,f]);return{triggerCartViewedEvent:x,addCartItems:S,removeCartItems:P,moveToSaveForLater:(0,D.useCallback)(async e=>{let{eventLabel:t,itemsToMove:n,pageSection:l,primaryCart:o,savedForLaterCart:u,mutatePrimaryCart:d,mutateSavedForLaterCart:p}=e;r({status:"",error:void 0}),m(!1);let h=A({cartItems:u.items,itemsToAdd:n});if(h.length>c.Zm)throw r({status:s.Nz}),m(!0),Error(R);d(e=>({...e,items:k(e.items,n)}),!1),p(e=>({...e,items:h}),!1);let b=f?(0,i.jO)({urlParams:{cartType:c.jT,destinationCartType:c.pw}}).formattedUrl:(0,a.cb)({urlParams:{fromCartType:c.jT,toCartType:c.pw}}).formattedUrl,g=await j({items:n}),y=f?N.Bn:N.C2;await y.post(b,g),w({cart:o,eventLabel:t,items:n,pageSection:l})},[A,j,w,k,f]),moveToPrimary:(0,D.useCallback)(async e=>{let{itemsToMove:t,primaryCart:n,mutatePrimaryCart:l,mutateSavedForLaterCart:o}=e;r({status:"",error:void 0}),m(!1);let u=A({cartItems:n.items,itemsToAdd:t});if(u.length>c.Zm)throw r({status:s.Nz}),m(!0),Error(R);o(e=>({...e,items:k(e.items,t)})),l(e=>({...e,items:u}));let d=f?(0,i.jO)({urlParams:{cartType:c.pw,destinationCartType:c.jT}}).formattedUrl:(0,a.cb)({urlParams:{fromCartType:c.pw,toCartType:c.jT}}).formattedUrl,p=await j({items:t}),h=f?N.Bn:N.C2;await h.post(d,p),y({cart:n,items:t})},[A,j,y,k,f]),addToCartStatus:t,setAddToCartStatus:r,isSizeLimitWarning:l}},er=e=>{let{cartItems:t}=e,{data:r}=(0,E.R7)(),{isLoading:a,...i}=(0,B.h)(),s=(e=>{let{items:t}=e;return t?.some(e=>{let{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:n,hasInsufficientSubscriptionCredits:l,insufficientAmount:o,hasLowDebitableBalance:c}=(0,x.E)({items:t,isLoading:!r||a,subscriptions:r,userCapabilities:i});return{amountType:n,isDebitableUser:(0,w.fY)({userCapabilities:i}),userCanViewDebitableBalance:(0,w.Pl)({userCapabilities:i}),hasInsufficientCartItemsCredits:s,hasInsufficientSubscriptionCredits:l,insufficientAmount:o,hasLowDebitableBalance:c}},ea=e=>{let{items:t}=e;return t?.some(e=>{let{hasCreditsRemaining:t}=e;return!t})},ei=e=>{let{cartItems:t,assetEligibleSubscriptions:r}=e,{isLoading:a,...i}=(0,B.h)(),s=(0,P.k)();if(a)return{};let n=ea({items:t}),{hasInsufficientSubscriptionCredits:l,insufficientAmount:o,hasLowDebitableBalance:c,amountType:u}=T({items:t,assetEligibleSubscriptions:r,canShowLedgerLowBalance:s})||{};return{amountType:u,isDebitableUser:(0,w.fY)({userCapabilities:i}),userCanViewDebitableBalance:(0,w.Pl)({userCapabilities:i}),hasInsufficientCartItemsCredits:n,hasInsufficientSubscriptionCredits:l,insufficientAmount:o,hasLowDebitableBalance:c}}},445516:(e,t,r)=>{var a=r(997397),i="object"==typeof self&&self&&self.Object===Object&&self;e.exports=a||i||Function("return this")()},462430:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var a=r(813631),i=r(95807),s=r(996887);let n=e=>{let{assetType:t,subscriptions:r,selectedLicenseId:n}=e;switch(t){case a.G_:return(0,s.K)({licenseName:n,subscriptions:r});case a.FY:case a.on:case a.M9:case a.W1:default:return(0,i.V)({subscriptions:r,licenseName:n})}}},478586:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(27489),i=r(543765),s=r(778042);let n=()=>{let e=(0,s.a)(),t=(0,i.Y)(),{openQuickViewCart:r}=(0,a.m)();return{viewCartAction:e?t:r}}},516319:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var a=r(524335);let i=()=>{let{checkGate:e}=(0,a.U)();return e("lego-2245-ledger-low-balance")}},543765:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var a=r(323069),i=r(981278),s=r(455729),n=r(263896);let l=()=>{let e=(0,n.D)(),{isBrandSstk:t}=(0,a.P)(),r=(0,i.useRouter)();return(0,s.useCallback)(()=>{t?(window.NREUM?.addPageAction?.("UP3-1623 assign useCartRedirect cartHref to href",{...window.location||{},cartHref:e,isBrandSstk:t}),window.location.href=e):r.push(e)},[e,t,r])}},585076:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(930500),i=r(871335),s=r(10545),n=r(703399);let l=e=>{let t,{items:r,isLoading:l,subscription:o,subscriptions:c,userCapabilities:u}=e;return l?{}:(o&&(t=o.creditType),c&&c.length>0&&(t=c[0].creditType),(0,i.fY)({userCapabilities:u})?(0,n.h)({items:r,subscription:o,subscriptions:c,hasWrapperSubscription:(0,i.GT)({userCapabilities:u})}):{amountType:t||a.EV,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:o&&0===(0,s.J)({subscription:o}),insufficientAmount:null})}},594495:(e,t,r)=>{"use strict";r.d(t,{mj:()=>c});var a=r(926114),i=r(302168),s=r(323069),n=r(568880),l=r(455729);let o="ent:license_",c=e=>{let{t}=(0,n.Bd)([a.Xek,a.fW6],{lng:e}),{isBrandSstk:r}=(0,s.P)();return(0,l.useCallback)(function(){let e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{licenseName:n,subscription:l}=s;if(n&&(e=`${o}${n.replace(/_unlimited/,"")}`),l){if(r){let r=l.product?.name;if(r&&(0,i.l2)({productName:r}))return t(e=`product-names:${r}`,{ns:a.fW6});l.product?.name&&(e=`ecomm:license_${l.product.name}`)}!r&&"redeemableFor"in l&&l.redeemableFor&&(e=`${o}${l.redeemableFor.replace(/_unlimited/,"")}`),!r&&"license"in l&&l.license&&(e=`${o}${l.license.replace(/_unlimited/,"")}`)}return e?t(e):""},[r,t])}},703399:(e,t,r)=>{"use strict";r.d(t,{h:()=>c});var a=r(930500),i=r(871335),s=r(159658),n=r(302450),l=r(560325);let o=e=>{let{acc:t,totalCostOfItems:r,amountRemaining:i,totalAmount:s,bypassLowBalance:n=!1}=e;return n||(r>i&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=r-i),!t.hasInsufficientSubscriptionCredits&&i<=s*a.O7&&(t.hasLowDebitableBalance=!0)),t},c=e=>{let{items:t,subscriptions:r,subscription:c,hasWrapperSubscription:u=!0}=e;if(t&&t.length){let e={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:a.EV};return t.reduce((e,t)=>{let{licenseId:d,price:m}=t,p=(0,s.W)({assets:[t]}),h=c||(0,l.A)({subscriptions:(0,n.s)({assetType:p,subscriptions:r})?.subscriptions,licenseName:d,assetType:p})||{},{totalAmount:f,amountRemaining:b,amountType:g,amount:y}=(0,i.hY)(h);e.amountType=g;let v=parseFloat(m),w=parseFloat(e.total)+v;if(e.total+=v,g===a.zy){let t=parseFloat(y),r=parseFloat(e.totalCreditAmount)+t;return e.totalCreditAmount+=t,o({acc:e,totalCostOfItems:r,amountRemaining:b,totalAmount:f,bypassLowBalance:!u})}return o({acc:e,totalCostOfItems:w,amountRemaining:b,totalAmount:f,bypassLowBalance:!u})},e)}let d=r||{},m=Object.keys(d).find(e=>Array.isArray(d[e])&&d[e].length),p=m&&(0,i.j6)({subscriptions:d[m]||[]})[0]||{},{totalAmount:h,amountRemaining:f,amountType:b}=(0,i.hY)(p);return{amountType:b,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:f<=h*a.O7,insufficientAmount:null}}},715549:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(571024);let i=r.n(a)()(()=>r.e(74782).then(r.bind(r,525742)).then(e=>({default:e.SignUpModal})),{loadableGenerated:{webpack:()=>[525742]},ssr:!1})},726988:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var a=r(813631),i=r(573923),s=r(498848),n=r(586694),l=r(455729);let o=()=>{let{analytics:e}=(0,n.pn)(),{getSearchContext:t}=(0,s.J)(),r=(0,l.useCallback)(t=>{let{cartId:r,items:a}=t,s=(a||[]).map((e,t)=>(0,i.Aj)({asset:e,cartId:r,index:t})),n=s.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:s,cartId:r,cartTotal:Math.round(100*n.totalPrice)/100,numItemsBilledToCard:n.toBeBilled,shouldCheckout:n.totalPrice>0,shouldDownload:s.length>0&&0===n.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,l.useCallback)(r=>{let{cart:a,eventLabel:s,gridItems:n,items:l,licenseId:o,licensePrice:c,listId:u,pageSection:d}=r;e.productAdded({products:l.map(e=>(0,i.Un)({asset:e,cartData:a,getSearchContext:t,gridItems:n,licenseId:o,licensePrice:c,pageSection:d})),eventLabel:s,list_id:u??""})},[e,t]),productRemovedAnalyticsEvent:(0,l.useCallback)(r=>{let{cart:s,eventLabel:n,gridItems:l,items:o,listId:c,matchingCartItem:u,pageSection:d}=r;if(u){let[r]=o;e.productRemoved({...(0,i.Un)({asset:r,cartData:s,getSearchContext:t,gridItems:l,pageSection:d}),price:u.price===a.Mp?0:Number(u.price),variant:u.licenseId,eventLabel:n,list_id:c??""})}else e.productRemoved({products:o.map(e=>(0,i.Un)({asset:e,cartData:s,getSearchContext:t,gridItems:l,pageSection:d})),eventLabel:n,list_id:c??""})},[e,t]),cartViewedAnalyticsEvent:r}}},812364:(e,t,r)=>{var a=r(123356),i=r(123169),s=r(122479),n=Math.max,l=Math.min;e.exports=function(e,t,r){var o,c,u,d,m,p,h=0,f=!1,b=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=o,a=c;return o=c=void 0,h=t,d=e.apply(a,r)}function v(e){var r=e-p,a=e-h;return void 0===p||r>=t||r<0||b&&a>=u}function w(){var e,r,a,s=i();if(v(s))return _(s);m=setTimeout(w,(e=s-p,r=s-h,a=t-e,b?l(a,u-r):a))}function _(e){return(m=void 0,g&&o)?y(e):(o=c=void 0,d)}function T(){var e,r=i(),a=v(r);if(o=arguments,c=this,p=r,a){if(void 0===m)return h=e=p,m=setTimeout(w,t),f?y(e):d;if(b)return clearTimeout(m),m=setTimeout(w,t),y(p)}return void 0===m&&(m=setTimeout(w,t)),d}return t=s(t)||0,a(r)&&(f=!!r.leading,u=(b="maxWait"in r)?n(s(r.maxWait)||0,t):u,g="trailing"in r?!!r.trailing:g),T.cancel=function(){void 0!==m&&clearTimeout(m),h=0,o=p=c=m=void 0},T.flush=function(){return void 0===m?d:_(i())},T}},835207:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var a=r(406029),i=r(687534),s=r(215075);let n=e=>{let{title:t,isGridLoading:r=!0}=e;return(0,a.jsx)(i.A,{variant:"h5",component:"h2",children:t??(r&&(0,a.jsx)(s.A,{variant:"text"}))})}},836640:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(969185),i=r(921075),s=r(524335);let n=()=>{let e=(0,i.h)(),t=e?.userCanViewPortfolio,{checkGate:r}=(0,s.U)(),n=r(a.V_),l=e?.debugCohorts?.active?.CohortEnterprisePrePaid;return t||n&&l}},904185:(e,t,r)=>{"use strict";r.d(t,{m:()=>f});var a=r(406029),i=r(813631),s=r(728779),n=r(559044),l=r(998370),o=r(571024),c=r.n(o);let u=c()(()=>r.e(46030).then(r.bind(r,680557)).then(e=>({default:e.BlankTemplateAssetItem})),{loadableGenerated:{webpack:()=>[680557]},loading:l.m});var d=r(350438);let m=c()(()=>Promise.all([r.e(27510),r.e(10382),r.e(737),r.e(54721)]).then(r.bind(r,404094)).then(e=>({default:e.MusicGridItem})),{loadableGenerated:{webpack:()=>[404094]},loading:l.m}),p=c()(()=>Promise.all([r.e(27510),r.e(37640)]).then(r.bind(r,476485)).then(e=>({default:e.TemplateGridItem})),{loadableGenerated:{webpack:()=>[476485]},loading:l.m});var h=r(132756);let f=e=>{let{asset:t}=e;switch((0,n.f0)(t)){case i.QF:return(0,a.jsx)(h.h,{...e,isHovered:!1});case i.G_:case i.SL:return(0,a.jsx)(h.h,{...e});case i.on:case i.M9:return(0,a.jsx)(m,{...e});case i.W1:case s.nP:case i._M:case i.oh:case i._g:case i.wt:return(0,a.jsx)(d.B,{...e});case i.Rm:return(0,a.jsx)(u,{...e});case i.nE:return(0,a.jsx)(p,{...e});default:return(0,a.jsx)(l.m,{})}}},936479:(e,t,r)=>{"use strict";r.d(t,{Df:()=>d,Xl:()=>n,bE:()=>o,bR:()=>p,cb:()=>c,dt:()=>l,fh:()=>m,h_:()=>u,vY:()=>f,vv:()=>h});var a=r(514264),i=r(940252);let s=e=>{let{urlParams:t={},queryParams:r={}}=e,s=`/cart/${t.isPrimary?a.jT:a.pw}`,n={...r};return{url:s,defaultParams:n,formattedUrl:(0,i.format)({pathname:s,query:n})}},n=function(){let{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=s({urlParams:e,queryParams:t}),a={...r.defaultParams};return{...r,defaultParams:a,formattedUrl:(0,i.format)({pathname:r.url,query:a})}},l=s,o=s,c=e=>{let{urlParams:t={},queryParams:r={}}=e,a=`/cart/${t.fromCartType}/to/${t.toCartType}`,s={...r};return{url:a,defaultParams:s,formattedUrl:(0,i.format)({pathname:a,query:s})}},u=e=>{let{urlParams:t={}}=e,r=`/account/user/${t.id}/settings`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},d=e=>{let{urlParams:t={}}=e,r=`/account/user/${t.id}/settings`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},m=e=>{let{urlParams:t={}}=e,r=`/organization/${t.organizationId}/invitations/${t.invitationId}`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},p=e=>{let{urlParams:t={}}=e,r=`/organization/${t.organizationId}/invitations`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},h=e=>{let{urlParams:t={}}=e,r=`/organization/users/${t.id}`;return{url:r,formattedUrl:(0,i.format)({pathname:r})}},f=function(){let{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=`/cart/${a.jT}/quote`,r={...e,exclude_comps:1,expand:"agreements"};return{url:t,defaultParams:r,formattedUrl:(0,i.format)({pathname:t,query:r})}}},963228:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=e=>e&&"string"==typeof e?`${e.charAt(0).toUpperCase()}${e.slice(1)}`:""},973681:(e,t,r)=>{"use strict";r.d(t,{z:()=>I,k:()=>x});var a=r(406029),i=r(366092),s=r(213304),n=r(455729),l=r(836640),o=r(571024),c=r.n(o);let u=c()(()=>Promise.all([r.e(27510),r.e(10382),r.e(44067),r.e(77618),r.e(6838),r.e(737),r.e(26300),r.e(27273)]).then(r.bind(r,695695)).then(e=>({default:e.AddToCartDialog})),{loadableGenerated:{webpack:()=>[695695]},ssr:!1}),d=c()(()=>Promise.all([r.e(27510),r.e(10382),r.e(44067),r.e(77618),r.e(6838),r.e(737),r.e(26300),r.e(27273),r.e(49414)]).then(r.bind(r,63882)).then(e=>({default:e.AddToCartDialogLedger})),{loadableGenerated:{webpack:()=>[63882]},ssr:!1}),m=e=>{let{isActive:t,...r}=e,i=(0,s.G)(t),n=(0,l.A)();return i&&(0,a.jsx)(n?d:u,{isActive:t,...r})};var p=r(926114),h=r(478586),f=r(470235),b=r(648973),g=r(514264),y=r(543765),v=r(323069),w=r(568880);let _=e=>{let{status:t,isSizeLimitWarning:r,alertLabels:a}=e;return r?a.sizeLimitWarning:t===b.qO?a.addToCartSuccess:a.addToCartWarning},T=e=>{let{isOpen:t,isSizeLimitWarning:r=!1,addToCartStatus:i,snackBarActionAllowed:s=!0,handleSnackbarClose:n}=e,{t:l}=(0,w.Bd)(p.evH),{status:o,error:c}=i,u={addToCartSuccess:l("common:actions_added_to_cart"),addToCartWarning:l("notifications:label_add_to_cart_failure"),sizeLimitWarning:l("ent:cart_size_limit_warning",{LIMIT:g.Zm}),viewActionLabel:l("common:actions_view")},d=_({status:o,isSizeLimitWarning:r,alertLabels:u}),{isBrandEnterprise:m}=(0,v.P)(),{viewCartAction:T}=(0,h.Z)(),C=(0,y.Y)(),I={onClick:()=>{n(),m?C():T()},label:u.viewActionLabel};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f.DynamicSnackbar,{...i.status===b.qO&&s&&{alertAction:I},alertSeverity:o,error:c,handleSnackbarClose:n,isOpen:t&&!!o,message:d})})},C={status:"",error:void 0},I=e=>{let{addToCartStatus:t=C,assets:r=null,eventLabel:i,gridItems:n=null,isAddToCartDialogActive:l,isPrimary:o,isSnackBarOpen:c,isSizeLimitWarning:u,onAddToCart:d,onAlertSnackbarClose:p,setIsAddToCartDialogActive:h,pageSection:f,listId:b,snackBarActionAllowed:g=!0}=e;return(0,s.G)(r)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{assets:r,eventLabel:i,gridItems:n,isActive:l,isPrimary:o,listId:b,onAddToCart:d,pageSection:f,setIsActive:h}),(0,a.jsx)(T,{snackBarActionAllowed:g,addToCartStatus:t,handleSnackbarClose:p,isOpen:c,isSizeLimitWarning:u})]}):null},x=function(){let{withOptimisticUpdate:e=!0,setIsVerifying:t,snackBarActionAllowed:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),[d,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),[f,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(null),[v,w]=(0,n.useState)(null),{addCartItems:_,moveToSaveForLater:T,moveToPrimary:C,addToCartStatus:x,isSizeLimitWarning:k,notAddedSelectVideos:A}=(0,i.Nc)();(0,n.useEffect)(()=>()=>u(null),[]);let j=(0,n.useCallback)(r=>{let{assets:a,eventLabel:i,licenseId:s,formatType:n,licensePrice:l,cart:u,mutateCart:m,notAddedSelectVideoIds:h,pageSection:f,listId:b}=r;t?.(!0),o(!0),_({cart:u,eventLabel:i,gridItems:d,isPrimary:p,itemsToAdd:a||c,licenseId:s,formatType:n,licensePrice:l,mutateCart:m,notAddedSelectVideoIds:h,withOptimisticUpdate:e,pageSection:f,listId:b})},[c,d,_,p,t,e]),S=(0,n.useCallback)(async e=>{let{itemsToMove:r,primaryCart:a,mutatePrimaryCart:i,mutateSavedForLaterCart:s}=e;t?.(!0),o(!0);try{await C({itemsToMove:r,primaryCart:a,mutatePrimaryCart:i,mutateSavedForLaterCart:s})}catch(e){t?.(!1)}},[C,t]),$=(0,n.useCallback)(async e=>{let{itemsToMove:r,primaryCart:a,savedForLaterCart:i,mutatePrimaryCart:s,mutateSavedForLaterCart:n}=e;t?.(!0),o(!0);try{await T({itemsToMove:r,primaryCart:a,savedForLaterCart:i,mutatePrimaryCart:s,mutateSavedForLaterCart:n})}catch(e){t?.(!1)}},[T,t]);return{addToCartViewsProps:(0,n.useMemo)(()=>({addToCartStatus:x,assets:c,eventLabel:v,gridItems:d,isAddToCartDialogActive:a,isPrimary:p,isSizeLimitWarning:k,isSnackBarOpen:l,onAddToCart:j,onAlertSnackbarClose:()=>o(!1),notAddedSelectVideos:A,setIsAddToCartDialogActive:s,pageSection:f,listId:g,snackBarActionAllowed:r}),[c,d,x,v,g,f,a,p,k,l,A,j,r]),addToCartViewsHandler:(0,n.useCallback)(e=>{let{assets:t,eventLabel:r,gridItems:a,isMoveToPrimaryCart:i=!1,isMoveToSavedForLaterCart:n=!1,isPrimaryCart:l=!0,mutatePrimaryCart:o,mutateSavedForLaterCart:c,primaryCart:d,savedForLaterCart:p,withDialog:f=!0,licenseId:g,licensePrice:v,pageSection:_,listId:T}=e;return(u(t),h(l),b(_),w(r),y(T),a&&m(a),i)?void S({itemsToMove:t,primaryCart:d,mutatePrimaryCart:o,mutateSavedForLaterCart:c}):n?void $({itemsToMove:t,primaryCart:d,savedForLaterCart:p,mutatePrimaryCart:o,mutateSavedForLaterCart:c}):void(f?s(!0):j({assets:t,eventLabel:r,cart:d,licenseId:g,licensePrice:v,mutateCart:o,pageSection:_}))},[j,S,$]),AddToCartViews:I}}},995683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{MosaicAssetGridWithViews:()=>g});var a=r(406029),i=r(540943),s=r(32584),n=r(506987),l=r(973681),o=r(245371),c=r(715549),u=r(559044),d=r(633449);let m=e=>{let{assetOverlayProps:t,...r}=e,{assets:i,hideAddToCart:m,hideSimilarAction:p,onAddToCollectionsComplete:h,listId:f,showInlineSimilarity:b}=r,{assetType:g}=(0,d.BF)(),{AddToCartViews:y,addToCartViewsHandler:v,addToCartViewsProps:w}=(0,l.k)(),{AddToCollectionViews:_,addToCollectionViewsHandler:T,addToCollectionViewsProps:C,isModalOpen:I,handleCloseModal:x,collectionProps:k}=(0,o.X)({initialAssetType:g}),{PreviewModal:A,previewModalProps:j,onAssetModalHandler:S}=(0,n.l)({addToCartViewsHandler:v,addToCollectionViewsHandler:T,assets:i,compLicensingHandler:null,licensingAssetId:null,withGoToPageAction:!0,withNavigationArrows:!0,listId:f,SecondaryActionsComponent:void 0,analyticsEventSection:void 0}),$=(0,u.sD)(i?.[0]);return(0,a.jsxs)(a.Fragment,{children:[I&&(0,a.jsx)(c.p,{modalIsOpen:I,handleClose:x,...$&&{collectionProps:k}}),(0,a.jsx)(s.MosaicAssetGrid,{assetOverlayProps:{listId:f,addToCartViewsHandler:v,addToCollectionViewsHandler:T,onAssetModalHandler:S,shouldHideOnImageMobile:!0,...t},showInlineSimilarity:b,...r}),(0,a.jsx)(y,{...w}),(0,a.jsx)(_,{onAddToCollectionsComplete:h,...C}),(0,a.jsx)(A,{...j,hideAddToCart:m,hideSimilarAction:p,showActionIcons:!0})]})};var p=r(64984);let h=e=>{let{assetOverlayProps:t,...r}=e,{assets:i,hideAddToCart:c,onAddToCollectionsComplete:u,listId:m,showInlineSimilarity:h}=r,{assetType:f}=(0,d.BF)(),{CompLicensingViews:b,licensingAssetId:g,compLicensingProps:y,compLicensingHandler:v}=(0,p.x)(),{AddToCartViews:w,addToCartViewsHandler:_,addToCartViewsProps:T}=(0,l.k)(),{AddToCollectionViews:C,addToCollectionViewsHandler:I,addToCollectionViewsProps:x}=(0,o.X)({initialAssetType:f}),{PreviewModal:k,previewModalProps:A,onAssetModalHandler:j}=(0,n.l)({addToCartViewsHandler:_,addToCollectionViewsHandler:I,assets:i,compLicensingHandler:v,licensingAssetId:g,withGoToPageAction:!0,withNavigationArrows:!0,listId:m,SecondaryActionsComponent:void 0,analyticsEventSection:void 0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.MosaicAssetGrid,{assetOverlayProps:{listId:m,addToCartViewsHandler:_,addToCollectionViewsHandler:I,compLicensingHandler:v,licensingAssetId:g,onAssetModalHandler:j,...t},showInlineSimilarity:h,...r}),(0,a.jsx)(w,{...T}),(0,a.jsx)(C,{onAddToCollectionsComplete:u,...x}),(0,a.jsx)(k,{...A,hideAddToCart:c,showActionIcons:!0}),(0,a.jsx)(b,{...y})]})};var f=r(323069),b=r(778042);let g=e=>{let{setThroughProvider:t,assets:r,isBrandSstk:s}=(0,i.N)(),{isBrandEnterprise:n}=(0,f.P)(),l=(0,b.a)(),{assets:o}=e,c=t?r:o;switch(`${l?"MOBILE":"DESKTOP"}_${(t?s:!n)?"ECOMM":"ENTERPRISE"}`){case"MOBILE_ENTERPRISE":case"DESKTOP_ENTERPRISE":return(0,a.jsx)(h,{...e,assets:c});default:return(0,a.jsx)(m,{...e,assets:c})}}},996887:(e,t,r)=>{"use strict";r.d(t,{K:()=>l});var a=r(485650),i=r(95807);let s=e=>{let t,{licenses:r,subscriptions:a}=e;return r.some(e=>t=(0,i.V)({subscriptions:a,licenseName:e})),t},n=e=>{let{existingAssetLicenses:t,licenseType:r,licenseName:a,subscriptions:i}=e;return a===`footage_${r}_sd`?s({licenses:t?.includes(`footage_${r}_hd`)?[`footage_${r}_hd`]:[`footage_${r}_sd`,`footage_${r}_hd`],subscriptions:i}):a===`footage_${r}_lowres`?t?.includes(`footage_${r}_hd`)?s({licenses:[`footage_${r}_hd`],subscriptions:i}):t?.includes(`footage_${r}_sd`)?s({licenses:[`footage_${r}_sd`],subscriptions:i}):s({licenses:[`footage_${r}_lowres`],subscriptions:i}):void 0},l=e=>{let{existingAssetLicenses:t,subscriptions:r,licenseName:s}=e;if([a.UiI,a.eJJ,a.P2I,a.vWp,a.N8V,a.j35,a.eS$,a.Kwu,a.O_b,a.OSP,a.FO6,a.Fc7].some(e=>e===s)||a.CkD.some(e=>e===s))return(0,i.V)({subscriptions:r,licenseName:s});if([a.eNn,a.AWs,a.H8O,a.GO9].some(e=>e===s))return(0,i.V)({subscriptions:r,licenseName:a.eNn});let l=n({existingAssetLicenses:t,licenseType:a.$Me,licenseName:s,subscriptions:r}),o=n({existingAssetLicenses:t,licenseType:a.Lyy,licenseName:s,subscriptions:r}),c=n({existingAssetLicenses:t,licenseType:a.kTi,licenseName:s,subscriptions:r}),u=n({existingAssetLicenses:t,licenseType:a.IDD,licenseName:s,subscriptions:r});return l||o||c||u||void 0}},997397:(e,t,r)=>{e.exports="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g},998370:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var a=r(406029),i=r(215075);let s=(0,r(807703).n9)()(e=>{let{palette:t}=e;return{skeleton:{width:"100%",height:"100%",position:"absolute",top:0,right:0,zIndex:-1,backgroundColor:t.background.default}}}),n=()=>{let{classes:e}=s();return(0,a.jsx)("div",{className:e.skeleton,children:(0,a.jsx)(i.A,{variant:"rectangular",height:"100%",width:"100%","data-automation":"ThumbnailSkeleton"})})}}}]);
//# sourceMappingURL=68280-ebe28135a8fcec7d.js.map