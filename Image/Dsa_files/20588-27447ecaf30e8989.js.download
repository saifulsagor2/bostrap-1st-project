"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20588,20700,42085],{26637:(e,t,r)=>{r.d(t,{b:()=>l});var a=r(159658),s=r(422207),i=r(302450),n=r(921075);let o=e=>{let{subscription:t}=e,r=new Date;return!(new Date(t?.subscriptionExpiration)<r)},l=e=>{let{asset:t,subscriptions:r}=e,l=(0,a.W)({assets:[t]}),c=(0,i.s)({assetType:l,subscriptions:r})?.compSubscriptions,d=(0,n.h)();return d?.userCanViewPortfolio?r&&c?.some(e=>o({subscription:e})):r&&c?.some(e=>(0,s.X)({subscription:e}))}},82078:(e,t,r)=>{r.d(t,{$:()=>p});var a=r(727326),s=r(629749),i=r(581298),n=r(573923),o=r(559044),l=r(498848),c=r(377981),d=r(586694),u=r(455729);let p=()=>{let{analytics:e}=(0,d.pn)(),{locale:t}=(0,i.Y)(),{emitEditProductAnalyticsEvent:r}=(0,s.v)(),{getSearchContext:p}=(0,l.J)(),m=(0,c.h)();return(0,u.useCallback)(s=>{let{assets:i=[],audioContext:l,eventLabel:c,licenseId:d,isRedownload:u,isQuickDownload:h,isPaid:g,isComp:f,pageSection:b,listId:v}=s,y=i[0]??{},w=c||f&&a.z3l||void 0,x=(0,o.yg)(y)||(0,o.f0)(y);e.productDownloaded({products:i.map(e=>(0,n.Un)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:d,pageSection:b})),download_context:(0,n.qn)({asset:y,isComp:f,isPaid:g,isQuickDownload:h,isRedownload:u,language:t}),eventLabel:w,list_id:v??"",search_context:p(y),...l&&{audio_context:{...l}}}),r("license"),m({actionName:`Successful ${u?"redownload":"download"}`,customAttributes:{assetType:x}})},[e,t,p,r,m])}},83351:(e,t,r)=>{r.d(t,{i:()=>o});var a=r(573923),s=r(498848),i=r(586694),n=r(455729);let o=()=>{let{analytics:e}=(0,i.pn)(),{getSearchContext:t}=(0,s.J)();return(0,n.useCallback)(r=>{let{collectionId:s,collectionName:i,gridItems:n,assets:o,pageSection:l,listId:c}=r;e.productAddedToWishlist({products:o.map(e=>(0,a.Un)({asset:e,getSearchContext:t,gridItems:n,pageSection:l})),wishlist_id:s,wishlist_name:i,list_id:c??""})},[e,t])}},109677:(e,t,r)=>{r.d(t,{I:()=>I});var a=r(205026),s=r(485650),i=r(630552),n=r(693417),o=r(487519),l=r(532598),c=r(813631),d=r(532850),u=r(531648),p=r(559044),m=r(402463),h=r(293115);let g=e=>{if(!Array.isArray(e)||0===e.length)return!1;let t=e.find(Boolean);if(!t?.id)return!1;let r=(0,p.Ub)(e[0]),a=(0,u.Uw)({assetType:r,assetId:t?.id});return[c.vo,c.G_,c.FY,c.M9,c.uH,c.gv].includes(a)},f=e=>{let{assetTypeFromAsset:t,licenseName:r,selectedAssetSize:a}=e;switch(t){case c.G_:return{...a?.name&&{content_size:m.TG.SSTK_TO_LEGACY_ELIGIBILTY[a.name]||a.name}};case c.FY:case c.on:return{content_format:c.FY};case c.M9:return{content_format:l.D1};default:return{...a?.name&&{content_size:m.PS[(0,h.C)(a.name)].downloadName},...a?.format&&{content_format:a.format},...r===d.Pp&&{license_name:d.Pp},...(r===s.rTe||t===c.uH)&&{license_name:s.rTe}}}},b=e=>{let{assets:t,include:r="subscriptions,licenses,licenses.product,subscriptions.product",licenseName:a,selectedAssetSize:s}=e,i=t[0],n=(0,p.Ub)(i),o={},l=(0,p.R1)(i);t?.length>=2?o.content_ids=t.filter(e=>{let{id:t}=e;return!!t}).join(","):o.content_id=i?.id;let c=f({assetTypeFromAsset:n,licenseName:a,selectedAssetSize:s});return{include:r,content_type:(0,u.Uw)({assetType:n,assetId:i?.id}),...c,...l&&{content_provider:"pixelsquid-media"},...o}},v=e=>{let{licenseeIdentifier:t,assets:r,licenseName:a,selectedAssetSize:s}=e;return(0,o.kE)({urlParams:{licenseeIdentifier:t},queryParams:b({assets:r,licenseName:a,selectedAssetSize:s})}).formattedUrl};var y=r(377981),w=r(30721),x=r(949544),S=r(531950),_=r(884378),C=r(12482),T=r(981278),j=r(455729);let I=e=>{let{assets:t,licenseeIdentifier:r=s.NOy,licenseName:o,selectedAssetSize:l,component:c,shouldFetch:d=!0}=e,u=(0,w.i9)(),{tosStatus:p,isLoading:m}=(0,x.M)({defaultTosStatus:!1}),h=(0,y.h)(),f=g(t),b=f&&d&&u&&p,I=(0,T.useRouter)(),k=v({licenseeIdentifier:r,assets:t,licenseName:o,selectedAssetSize:l}),A=["eligibility",...t.map(e=>e?.id),l];(0,j.useEffect)(()=>{!f&&d&&h({actionName:i.Mp,customAttributes:{url:k,component:c}})},[h,c,f,d,k]);let{data:B,isLoading:M,error:$}=(0,C.I)({enabled:!!b,queryKey:A,retry:(e,t)=>["500",500].includes(t.status)&&["Access token has been revoked","Unauthorized"].includes(t.source.error.error)?(I.push(a.E2),!1):2!==e,queryFn:()=>S.Bn.get(k,{headers:{credentials:"include"}}).then(e=>(0,_.A)(e.data)).catch(e=>{throw window.NREUM?.recordCustomEvent?.(n.s,{url:k,errorMessage:e.message,errorStack:e.stack}),e})});return{data:B,isLoading:M||m,error:$}}},128280:(e,t,r)=>{r.d(t,{i:()=>w});var a=r(175507),s=r(648973),i=r(813631),n=r(559044),o=r(762643),l=r(109677),c=r(293733),d=r(320437),u=r(903074),p=r(30721),m=r(355790);let h=e=>{let{clickAnalyticsLabels:t,hasExistingLicense:r,isOffsetAsset:a,isLoggedInUser:s,labels:i,override:n,is3dObject:o}=e;return{downloadButtonClickAnalyticsLabel:t.downloadButton,downloadButtonLabel:i.download,shouldShowDownloadButton:!s&&!a,shouldShowAddToCartButton:!!a&&!r,shouldShowOpenLicenseDrawerButton:(s&&!a||s&&a&&r)&&!o,...n?.()}},g=e=>{let{hasExistingLicense:t,isActiveUnlimitedUserAndBasicUnlimitedAsset:r,isFootageSelect:a,isLoggedInUser:s,isLoggedInWithoutPlan:i,isLoggedInWithPlan:n,isRexEditorialAsset:o}=e;return o?{shouldShowAddToCartButton:!t,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:t}:{shouldShowAddToCartButton:!s||i||a&&!r,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:n&&(!a||r)}},f=e=>{let{clickAnalyticsLabels:t,hasVideoRenderUrl:r,labels:a}=e;return{downloadButtonClickAnalyticsLabel:t.downloadButton,downloadButtonLabel:a.download,shouldShowAddToCartButton:!1,shouldShowDownloadButton:r,shouldShowOpenLicenseDrawerButton:!1}},b=e=>{let t,{assetType:r,clickAnalyticsLabels:a,hasExistingLicense:s,hasExistingEligibleSubscription:n,isFootageSelect:o,isLoggedInUser:l,isOffsetAsset:c,isRexEditorialAsset:d,shouldShowGetUnlimitedButton:u,hasVideoRenderUrl:p,labels:m,overrides:b,is3DObject:v,isActiveUnlimitedUserAndBasicUnlimitedAsset:y}=e,w=n||s,x=l&&!w,S=l&&w;if(u)return{shouldShowAddToCartButton:!1,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!1};switch(r){case i.W1:t=h({clickAnalyticsLabels:a,hasExistingLicense:s,hasPlan:w,isLoggedInUser:l,isOffsetAsset:c,isRexEditorialAsset:d,labels:m,is3DObject:v,override:b[i.W1]});break;case i.G_:t=g({hasExistingLicense:s,isFootageSelect:o,isLoggedInUser:l,isLoggedInWithoutPlan:x,isLoggedInWithPlan:S,isRexEditorialAsset:d,isActiveUnlimitedUserAndBasicUnlimitedAsset:y});break;case i.o9:t=f({clickAnalyticsLabels:a,hasVideoRenderUrl:p,labels:m});break;case i.on:case i.M9:default:t={shouldShowAddToCartButton:!l||x||o,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:S&&!o,...b[r]?.()}}return t},v=e=>{let{isLoggedInUser:t,shouldFetchEligibility:r,hasActiveSubscriptionForAssetType:a,assetType:s,isFootageSelect:n,isOffsetAsset:o,isRexEditorialAsset:l}=e,c=!n&&((o||l)&&s===i.W1||s===i.G_||s===i.on||s===i.M9);return!!(t&&r&&(!1===a||o)&&c)},y=(e,t)=>e?s.ff:t?s.Nz:"",w=e=>{let{asset:t,clickAnalyticsLabels:r={},hideCtaComponent:s=!1,labels:h={},shouldFetchEligibility:g=!0,assetIsLicensed:f=!1,isPlayer:w=!1}=e,x="isFootageSelect"in t&&t.isFootageSelect,S=(0,u.J)(),_=(0,n.f0)(t),C=(0,n.Uh)(t),T=(0,n.$9)(t),j=(0,n.sY)(t),I=(0,n.R1)(t),k=(0,p.i9)(),{isIndiaRegion:A}=(0,c.Z)(),{data:B,error:M,isLoading:$}=(0,m.Tc)(),R=(0,o.r)({subscriptions:B??[],asset:t}),L=v({isLoggedInUser:k,shouldFetchEligibility:g,hasActiveSubscriptionForAssetType:R,assetType:_,isFootageSelect:x,isOffsetAsset:C,isRexEditorialAsset:T}),{data:E,error:D,isLoading:O}=(0,l.I)({assets:[t],shouldFetch:L,component:"useAssetDownloadCta"}),P=f||!!E?.licenses?.length,U=E?!!E?.subscriptions?.length:R,G="videoRenderUrl"in t&&t.videoRenderUrl,{isUserWithActiveBasicUnlimitedPlan:N}=S,F=N&&j,W=(0,a.j)({asset:t,hasExistingLicense:P}),{shouldShowDownloadButton:z,shouldShowOpenLicenseDrawerButton:V,shouldShowAddToCartButton:q,downloadButtonClickAnalyticsLabel:K,downloadButtonLabel:H}=b({assetType:_,clickAnalyticsLabels:r,hasExistingLicense:P,hasExistingEligibleSubscription:U,isFootageSelect:x,isLoggedInUser:k,isOffsetAsset:C,isRexEditorialAsset:T,shouldShowGetUnlimitedButton:W,hasVideoRenderUrl:G,labels:h,is3DObject:I,isActiveUnlimitedUserAndBasicUnlimitedAsset:F,overrides:{[i.W1]:()=>!A||k||T||C?s&&C?{shouldShowAddToCartButton:!1}:{}:{shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!0},[i.on]:()=>F&&w?{shouldShowDownloadButton:!0,shouldShowAddToCartButton:!1,shouldShowOpenLicenseDrawerButton:!1,downloadButtonLabel:h.download}:{}}});return(0,d.r)({customAttributes:{actionText:H||"download button has no text",component:"useAssetDownloadCta.js",downloadButtonClickAnalyticsLabel:K,hasExistingLicense:P,hasExistingEligibleSubscription:U,hasVideoRenderUrl:G,isFootageSelect:x,isLoggedInUser:k,isOffsetAsset:C,isRexEditorialAsset:T,shouldShowAddToCartButton:q,shouldShowDownloadButton:z,shouldShowOpenLicenseDrawerButton:V},error:D||M,level:y(D,M),msg:M&&!H?"FREN-361 Failed to fetch subscriptions FIXME showing empty download button text":"render useAssetDownloadCta"}),{downloadButtonClickAnalyticsLabel:K,downloadButtonLabel:H,eligibility:E,hasExistingLicense:P,shouldShowAddToCartButton:q,shouldShowButtonLoadingPlaceholder:!1,shouldShowDownloadButton:z,shouldShowOpenLicenseDrawerButton:V,isLoading:!!(O||$),isLoadingEligibility:O,isLoadingSubscriptions:$,shouldShowGetUnlimitedButton:W,shouldShowOverlayDownloadButton:W,showAlertIfUnlimitedUserLicensePremiumAsset:!j&&N}}},128940:(e,t,r)=>{r.d(t,{F:()=>i});var a=r(586694),s=r(455729);let i=()=>{let{analytics:e}=(0,a.pn)();return(0,s.useCallback)(function(){let{pageSection:t,eventLabel:r,clickTrackOptions:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&r&&e.inlineClick(`${t}.${r}`,a)},[e])}},157535:(e,t,r)=>{r.d(t,{j:()=>n});var a=r(461266),s=r(455729);let i={applyCanvasViewed:a.lQ,applyToolAnalytics:a.lQ,emitEditProductAnalyticsEvent:a.p5,setAnalyticsStatePartial:a.lQ},n=(0,s.createContext)(i)},159658:(e,t,r)=>{r.d(t,{W:()=>i});var a=r(813631),s=r(559044);let i=e=>{let{assets:t=[]}=e;return(0,s.O6)(t?.[0])?a.oh:(0,s.Kx)(t?.[0])?a.SL:(0,s.Oi)(t?.[0])?a.kc:(0,s.f0)(t?.[0])}},175507:(e,t,r)=>{r.d(t,{j:()=>u});var a=r(813631),s=r(559044),i=r(184905),n=r(903074);let o=e=>!!e?.subscriptions?.find(e=>e?.product?.name&&e?.product?.name.includes("flex")),l=e=>!!e?.subscriptions?.find(e=>e?.product?.name&&e?.product?.name.includes("credit_pack")),c=e=>!!e?.subscriptions?.find(e=>e?.product?.name&&e?.product?.name.includes("aigen")),d=(e,t,r)=>{let s=o(e),i=l(e);if(s||i)return!0;let n=c(e);switch(t){case a.W1:if(r===a.KB)return e?.isActiveImageSubUser||e?.isActiveImagePackUser||n;return(e?.isActiveImageSubUser||e?.isActiveImagePackUser)&&!n;case a.G_:return!!e?.isActiveVideoPlanUser;case a.on:case a.M9:return!!e?.isActiveMusicPlanUser;default:return!1}},u=e=>{let{asset:t,hasExistingLicense:r,hasExistingEligibleSubscription:o=!1,bypassAssetType:l=!0}=e,c=(0,n.J)(),u=(0,i.H)(),p=(0,s.f0)(t),m=(0,s.sY)(t),h=o||d(c,p)||c?.isUserWithActiveBasicUnlimitedPlan,g=l||p!==a.W1;return u&&m&&!r&&!h&&g}},188116:(e,t,r)=>{r.d(t,{q:()=>n});var a=r(813631),s=r(559044),i=r(580030);let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.U6)(e))return a.M6;if((0,s.Af)(e))return a.wF;if((0,s.Pb)(e))return a.dB;if((0,s.hF)(e))return a.XV;if((0,s.O6)(e))return a.oh;if((0,s.Kx)(e))return a.SL;if((0,s.MO)(e))return a.M9;let t=(0,s.f0)(e);if(t===a.on)return(0,s.fO)({track:e})?a.KS:(0,s.pj)({track:e})?a.ZT:a.Qj;if(e?.isFootageSelect)return a.nP;if((0,s.Uh)(e))return a.e$;let r=(0,i.OK)(e),n=(0,s.gy)(e);return r&&(t=a.jS[t]),n&&(t=a.qU[t]),t}},193114:(e,t,r)=>{r.d(t,{i:()=>i});var a=r(559044),s=r(184905);let i=e=>{let{asset:t}=e,r=(0,s.H)();return(0,a.sY)(t??{})&&r}},244895:(e,t,r)=>{r.d(t,{d:()=>i});var a=r(377981),s=r(455729);let i=()=>{let[e,t]=(0,s.useState)(!1),r=(0,a.h)();return{isModalOpen:e,handleOpenModal:()=>{r({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},245371:(e,t,r)=>{r.d(t,{X:()=>V});var a=r(244895),s=r(743627),i=r(95903),n=r(693313),o=r(559044),l=r(120638),c=r(503424),d=r(778042),u=r(487519),p=r(648973),m=r(813631),h=r(728779),g=r(705992),f=r(573923),b=r(477222),v=r(974384),y=r(788098),w=r(83351),x=r(323069),S=r(586694),_=r(531950),C=r(884378),T=r(293251),j=r(455729),I=r(760973);let k=e=>{let{assetId:t,asset:{id:r,tier:a=10,src:s,aspect:i,width:n,height:o}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:r,rex_id:r,media_type:m.uH,tier:a,media:{aspect:i,width:n,height:o,url:s}}}}},A=async e=>{let{isRexEditorial:t,collectionId:r,verificationCode:a,setAsCover:s,firstAsset:i,collectionType:n}=e,l=(0,o.G_)(i);if(l!==m.K2)return;let c=(0,u.VT)({queryParams:{id:r,verificationCode:a,collectionType:n}}).formattedUrl,d=await _.Bn.get(c).then(e=>(0,C.A)(e.data)||{});if(!d?.coverItem?.id){let e=(0,o.qQ)({asset:i,isRexEditorial:t}),a=(0,v.p)({collectionId:r,mappedAssetType:l,assetId:e});await s({collection:{id:r},mediaItem:{id:a}})}},B=()=>{let[e,t]=(0,j.useState)({status:"",error:void 0}),[r,a]=(0,j.useState)(""),[s,i]=(0,j.useState)(""),n=(0,w.i)(),{setAsCover:l}=(0,I.N)(),{isBrandSstk:c}=(0,x.P)(),{analytics:d}=(0,S.pn)(),C=(0,f.cv)(d),B=(0,T.jE)();return{add:(0,j.useCallback)(async e=>{let{assets:r,assetType:s,gridItems:d,groupedOptions:f,id:w,title:x,verificationCode:S,pageSection:T,listId:j,isMoveTo:I,sourceCollectionId:M,callback:$}=e,R=(0,b.pQ)({assetType:s,isBrandSstk:c});try{t({status:p.qO,error:void 0});let e=(0,o.LO)(s),c=w,b=S;if(f&&f.length){let e=f.find(e=>{let{title:t}=e;return t===x});e&&(c=e.id,b=e.verificationCode)}if(!c){let e=(0,u.G2)().formattedUrl,t={data:{attributes:{title:x,collectionType:R,isPublic:!1},type:h.I}},{data:{id:r,attributes:{verificationCode:a}}}=await _.Bn.post(e,t);c=r,b=a}let B={data:r.map(t=>{let r=(0,o.qQ)({asset:t,isRexEditorial:e}),a=(0,o.G_)(t);return{type:h.kS,id:(0,v.p)({collectionId:c,mappedAssetType:a,assetId:r}),...a===m.K2&&k({assetId:r,asset:t})}})};I&&M&&(B.meta={sourceCollectionId:M,operation:"move"});let $=(0,u.u6)({urlParams:{id:c},queryParams:{isRexEditorial:e}}).formattedUrl,L=(0,y.H)(C);await _.Bn.post($,B,L?{headers:{[g.ed]:L}}:void 0);let E=r[0];await A({isRexEditorial:e,collectionId:c,verificationCode:b,setAsCover:l,firstAsset:E,collectionType:R}),n({collectionId:c,collectionName:x,gridItems:d,assets:r,pageSection:T,listId:j}),a(c),i(b)}catch(e){t({status:p.Nz,error:e})}finally{await B.invalidateQueries({queryKey:[(0,u.Re)({queryParams:{"filter[type]":R}}).formattedUrl]}),await $?.()}},[c,C,l,n,B]),collectionId:r,setStatus:t,status:e,verificationCode:s}};var M=r(30721),$=r(461266),R=r(985091),L=r(406029),E=r(571024),D=r.n(E);let O=D()(()=>Promise.all([r.e(27510),r.e(10382),r.e(51907),r.e(33807),r.e(73813),r.e(7529)]).then(r.bind(r,100507)).then(e=>({default:e.SaveSnackbarOrModal})),{loadableGenerated:{webpack:()=>[100507]},ssr:!1});var P=r(84781),U=r(213304);let G=D()(()=>Promise.all([r.e(27510),r.e(10382),r.e(21443),r.e(58071),r.e(77618),r.e(6838),r.e(737),r.e(55062)]).then(r.bind(r,663406)).then(e=>({default:e.CollectionModal})),{loadableGenerated:{webpack:()=>[663406]},ssr:!1}),N=e=>{let{isOpen:t,...r}=e;return(0,U.G)(t)&&(0,L.jsx)(G,{isOpen:t,...r})},F=D()(()=>r.e(92518).then(r.bind(r,293304)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[293304]},ssr:!1}),W=e=>{let{assets:t,assetType:r="",collectionId:a,collectionTitle:s,gridItems:n=null,isDialogActive:o,isSnackBarOpen:l,onAddToCollections:c,onAlertSnackbarClose:d,onAddToCollectionsComplete:u,redirectToCDPAction:p={},setIsDialogActive:m,showCopyToModalTitle:h,status:g,verificationCode:f,pageSection:b,isMoveTo:v,sourceCollectionId:y}=e,w=(0,P.u)(),x=(0,U.G)(t),S=(0,j.useCallback)(()=>m(!1),[m]),{folders:_}=(0,i.E)();return x?!w&&o?_&&(0,L.jsx)(O,{onClose:S,setIsDialogActive:m,isOpen:o,items:t,onAddToCollectionsComplete:u,pageSection:b,isMoveTo:v}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(N,{assets:t,assetType:r,collectionId:a,gridItems:n,isOpen:o,onAddToCollections:c,setIsDialogActive:m,showCopyToModalTitle:h,pageSection:b,sourceCollectionId:y}),(0,L.jsx)(F,{assetType:r,collectionId:a,collectionTitle:s,isOpen:l,onAlertSnackbarClose:d,redirectToCDPAction:p,status:g,verificationCode:f,isMoveTo:v})]}):null},z=e=>[].concat(e),V=e=>{let{initialAssetType:t,sourceCollectionId:r=null,mutation:u=$.lQ}=e,p=(0,s.o)(),[m,h]=(0,j.useState)(!1),[g,f]=(0,j.useState)(!1),[b,v]=(0,j.useState)(!1),[y,w]=(0,j.useState)(""),[x,S]=(0,j.useState)(null),[_,C]=(0,j.useState)(t),[T,I]=(0,j.useState)(null),[k,A]=(0,j.useState)(null),[L,E]=(0,j.useState)(!1),[D,O]=(0,j.useState)(null),[P,U]=(0,j.useState)({}),G=(0,M.i9)(),N=(0,l.pb)(),F=(0,c.G)(),V=(0,d.a)(),{isModalOpen:q,handleCloseModal:K,handleOpenModal:H}=(0,a.d)(),[Q,Y]=(0,j.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:F}),{add:J,status:Z,collectionId:X,verificationCode:ee}=B(),{setIsSaveInProgress:et,setDisableFetch:er}=(0,i.E)();(0,j.useEffect)(()=>()=>S(null),[]),(0,j.useEffect)(()=>()=>C(""),[]);let ea=(0,j.useCallback)(e=>{let{formattedAssets:t,gridItems:r,isCopyToCollection:a,mappedAssetType:s,redirectToCollectionDetailsPage:i,pageSection:n,listId:o,isMoveToAction:l}=e;C(s),S(t),A(n),O(o),E(l),a?v(!0):l&&v(!1),r&&I(r),i&&Y({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:i}),h(!0)},[]),es=(0,j.useMemo)(()=>({assets:x,pageSection:k,assetType:_,collectionId:X,collectionTitle:y,gridItems:T,isDialogActive:m,isSnackBarOpen:g,onAddToCollections:e=>{let{id:t,title:a,verificationCode:s,groupedOptions:i,pageSection:n}=e;return w(a),h(!1),f(!0),J({assetType:_,assets:x,gridItems:T,groupedOptions:i,id:t,title:a,verificationCode:s,pageSection:n||k,listId:D,isMoveTo:L,sourceCollectionId:r,callback:u})},onAlertSnackbarClose:()=>f(!1),redirectToCDPAction:Q,setIsDialogActive:h,showCopyToModalTitle:b,status:Z,verificationCode:ee,isMoveTo:L,sourceCollectionId:r}),[x,T,J,D,k,_,X,y,m,g,Q,b,Z,ee,L,r,u]),ei=(0,j.useCallback)(async e=>{let{assets:t,gridItems:r,isCopyToCollection:a=!1,redirectToCollectionDetailsPage:s,pageSection:i,listId:l,openModal:c=!1,cta:d="",isMoveToAction:u=!1}=e;if(p?.current&&(p.current.isInProgress=!0,p.current.continuousStart?.()),await (0,R.a)(),G){er(!1),et(!0);let e=z(t);ea({formattedAssets:e,gridItems:r,isCopyToCollection:a,mappedAssetType:(0,o.G_)(e[0]),redirectToCollectionDetailsPage:s,pageSection:i,isMoveToAction:u,listId:l})}else c&&!V?(U({cta:d,...t&&{assets:t},...r&&{gridItems:r}}),t&&window.sessionStorage.setItem(n.xN,JSON.stringify(t)),r&&window.sessionStorage.setItem(n.ac,JSON.stringify(r)),H()):(0,n.F_)({assets:t,gridItems:r,signUpPath:N})},[G,V,er,et,ea,p,H,N]),en=e=>e&&"undefined"!==e,eo=(0,j.useCallback)(async()=>{let e=window.sessionStorage.getItem(n.xN),t=window.sessionStorage.getItem(n.ac);if(en(e)&&en(t)){let r=JSON.parse(e),a=JSON.parse(t);await ei({assets:r,gridItems:a,redirectToCollectionDetailsPage:!1})}window.sessionStorage.removeItem(n.Vt),window.sessionStorage.removeItem(n.xN),window.sessionStorage.removeItem(n.ac)},[ei]);return(0,j.useEffect)(()=>{let e=window.sessionStorage.getItem(n.Vt);en(e)&&JSON.parse(e)?G&&eo():(0,n.vt)({showAddToCollectionModal:ea,isLoggedInUser:G})},[eo,G,ea]),{addToCollectionViewsProps:es,addToCollectionViewsHandler:ei,AddToCollectionViews:W,isModalOpen:q,handleCloseModal:K,collectionProps:P}}},263607:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(455729).createContext)({})},274079:(e,t,r)=>{r.r(t),r.d(t,{Copy:()=>i});var a=r(406029);let s=(0,r(13068).A)((0,a.jsx)("path",{d:"M24 11.333V14h2.667v13.333H13.334v-2.667h-2.667v5.333h18.667V11.332zm-2.667-8H2.666V22h18.667V3.333zm-2.666 16H5.334V6h13.333v13.333z"}),"Copy.svg"),i=e=>(0,a.jsx)(s,{viewBox:"0 0 32 32",...e})},302450:(e,t,r)=>{r.d(t,{s:()=>i});var a=r(813631),s=r(342232);let i=e=>{let{assetType:t,contentTier:r=0,subscriptions:i}=e;if(!i||!t)return{};switch(t){case a.oh:return{compSubscriptions:i.editorialImageCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.editorialImageSubscriptions,contentTier:r})};case a.SL:return{compSubscriptions:i.editorialVideoCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.editorialVideoSubscriptions,contentTier:r})};case a.G_:return{compSubscriptions:i.videoCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.videoSubscriptions,contentTier:r})};case a.on:case a.FY:return{compSubscriptions:i.musicCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.musicSubscriptions,contentTier:r})};case a.M9:return{compSubscriptions:i.sfxCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.sfxSubscriptions,contentTier:r})};case a.W1:default:return{compSubscriptions:i.imageCompSubscriptions,subscriptions:(0,s.e)({assetType:t,subscriptions:i.imageSubscriptions,contentTier:r})}}}},342232:(e,t,r)=>{r.d(t,{e:()=>c});var a=r(930500);let s=e=>e.every(e=>{let{activityTracking:t,creditType:r,priceAsAbsolute:s}=e;return t===a.sS&&r===a.zy&&!!s}),i=e=>s(e)?e.sort((e,t)=>{let{priceAsAbsolute:{price:r=0}={}}=e,{priceAsAbsolute:{price:a=0}={}}=t;return a-r}):e.sort((e,t)=>t.creditPrice-e.creditPrice);var n=r(560325);let o=e=>{let{item:t,uniqueSubsAcc:r}=e;return r.find(e=>{let{redeemableFor:r,name:a}=e;return t.redeemableFor===r||t.name&&t.name===a})},l=e=>{let{subscriptionToUse:t,licenseName:r}=e,a=t?.currentLicenses;return!!a&&a.length&&!a?.find(e=>{let{redeemableFor:t}=e;return t===r?.replace("/_unlimited/","")})},c=e=>{let{subscriptions:t=[],contentTier:r,assetType:a}=e;return i(t.reduce((e,s)=>{let i=s.redeemableFor||s.name,c=(0,n.A)({subscriptions:t,licenseName:i,contentTier:r,assetType:a});return!c||l({subscriptionToUse:c,licenseName:i})||o({item:s,uniqueSubsAcc:e})?e:[...e,c]},[]))}},390019:(e,t,r)=>{r.d(t,{f:()=>o});var a=r(660948),s=r(818360),i=r(188116),n=r(674951);let o=e=>{let{assets:t,userCapabilities:r}=e;if(t.some(e=>!(0,n.f)({assetType:(0,i.q)(e)}))||r.isLoading)return{isLoading:r.isLoading,userCanView:!1,userCanLicense:!1,userCanComp:!1,userCanBeUpsold:!1,userCanLicenseOnlyMediaType:!1,userCanCompOnlyMediaType:!1,userCanViewOnly:!1,userCanViewPrices:!1};let o=(0,s.K)({assets:t,userCapabilities:r}),l=(e,t)=>e.some(e=>{let{id:r}=e;return o[t].includes(r)});return{isLoading:r.isLoading,userCanView:!l(t,a.gR),userCanBeUpsold:!l(t,a.Ok),userCanLicense:!l(t,a.mi),userCanComp:!l(t,a.qD),userCanLicenseOnlyMediaType:l(t,a.mi)&&!l(t,"mediaTypeLicense"),userCanCompOnlyMediaType:l(t,a.qD)&&!l(t,"mediaTypeComp"),userCanViewOnly:l(t,a.mi)&&l(t,a.qD),userCanViewPrices:r.userCanViewPrices}}},398350:(e,t,r)=>{r.r(t),r.d(t,{Filter:()=>i});var a=r(406029);let s=(0,r(13068).A)((0,a.jsx)("path",{d:"M29.333 8H17.146c-.636-2.285-2.699-3.935-5.147-3.935S7.488 5.714 6.861 7.962l-4.196.037v2.667h4.187c.636 2.285 2.699 3.935 5.147 3.935s4.511-1.649 5.138-3.897l12.196-.037zM12 12c-1.473 0-2.667-1.194-2.667-2.667S10.527 6.666 12 6.666c1.473 0 2.667 1.194 2.667 2.667S13.473 12 12 12zM29.333 21.333h-4.187c-.636-2.285-2.699-3.935-5.147-3.935s-4.511 1.649-5.138 3.897l-12.196.038V24h12.187c.636 2.285 2.699 3.935 5.147 3.935s4.511-1.649 5.138-3.897L29.333 24zm-9.333 4c-1.473 0-2.667-1.194-2.667-2.667s1.194-2.667 2.667-2.667c1.473 0 2.667 1.194 2.667 2.667S21.473 25.333 20 25.333z"}),"Filter.svg"),i=e=>(0,a.jsx)(s,{viewBox:"0 0 32 32",...e})},417005:(e,t,r)=>{r.d(t,{O:()=>i});var a=r(455729),s=r(729140);let i=e=>{let{asset:t,showErrorPageContent:r}=e,i=(0,s.H)();(0,a.useEffect)(()=>{!r&&t&&i({asset:t,isPreview:!1})},[t,i,r])}},420772:(e,t,r)=>{r.d(t,{C:()=>o,t:()=>n});var a=r(406029),s=r(455729);let i=(0,s.createContext)(),n=e=>{let{children:t}=e,r=(0,s.useRef)(null);return(0,a.jsx)(i.Provider,{value:r,children:t})},o=()=>(0,s.useContext)(i)},441971:(e,t,r)=>{r.d(t,{$V:()=>y,RD:()=>w,x_:()=>j,nm:()=>v,Qx:()=>b,m5:()=>C,D6:()=>_,Ad:()=>T,sp:()=>p,Cb:()=>g,WT:()=>m,f2:()=>h,Zh:()=>u,qi:()=>d,JJ:()=>c});var a=r(122980),s=r(813631),i=r(559044);let n=e=>{let{asset:t,userCanLicense:r}=e,a=(0,i.Uh)(t)&&!r,s=(0,i.ex)(t)&&!r,n=(0,i.BO)(t)&&!r,o=(0,i.Cs)(t)&&!r;return a||s||n||o||(0,i.R1)(t)||!1};var o=r(505637),l=r(235757);let c=e=>e.filter(e=>!e.mediaItem.isWithdrawn),d=e=>c(e).filter(e=>!e.mediaItem.isUpload),u=e=>e.assetStatus?.includes(a.T3),p=e=>"3d-object"===e.mediaItem.imageType,m=e=>(0,l.GT)(e.mediaItem),h=e=>e?.assetStatus?.includes(a.s9),g=e=>e?.assetStatus?.includes(a.fs),f=e=>u(e)||m(e),b=e=>e.length>0&&e.every(f),v=e=>e.length>0&&!e.some(f),y=e=>e.length>0&&e.every(h),w=e=>e.length>0&&e.every(e=>e.isPrivate),x=e=>(0,l.UM)(e.mediaItem)||(0,l.Ez)(e.mediaItem),S=e=>(0,l.n4)(e.mediaItem),_=e=>e.some(x),C=e=>e.some(p),T=e=>{let{holdings:t,userCanLicense:r}=e,a={};return t.some(e=>{let{mediaItem:t}=e;if(t.type===s.o9||t.isUpload)return!1;let i=(0,o.o5)(t);return i in a?a[i]!==n({asset:t,userCanLicense:r}):(a[i]=n({asset:t,userCanLicense:r}),!1)})},j=e=>!e.some(e=>u(e)||S(e)||x(e))},443599:(e,t,r)=>{r.d(t,{J:()=>ev});var a=r(406029),s=r(835537),i=r(602875),n=r(907422),o=r(687534),l=r(926114),c=r(869187),d=r(838840),u=r(571024),p=r.n(u);let m=p()(()=>r.e(42046).then(r.bind(r,230370)).then(e=>({default:e.GenerateButton})),{loadableGenerated:{webpack:()=>[230370]}});var h=r(97959),g=r(421199),f=r(316245),b=r(555675),v=r(350095),y=r(9069),w=r(876172),x=r(54172),S=r(813631),_=r(898257),C=r(666660),T=r(323069),j=r(789522),I=r(586694),k=r(568880),A=r(455729);let B=e=>({id:`${e}-tab`,"aria-controls":`${e}-tab`}),M=e=>{let{key:t,currentTarget:r}=e;"ArrowRight"===t&&(r?.nextElementSibling??r?.parentElement?.firstElementChild)?.focus(),"ArrowLeft"===t&&(r?.previousElementSibling??r?.parentElement?.lastElementChild)?.focus()},$={icon:{mr:3},categoriesGridContainer:{mb:5},menuItem:{mb:2,m:"0 auto",display:"flex","&:hover":{backgroundColor:"transparent"}},selectedMenuItem:{borderBottom:"3px solid",color:"secondary.main"},menuItemLoggedOutUHP:{color:"common.white"}},R=e=>{let{selectedAssetType:t,setSelectedAssetType:r,assetTypeMap:s=f.Tx,customMenuItemStyles:n={}}=e,{t:o}=(0,k.Bd)(l.Do_),{isBrandEnterprise:c}=(0,T.P)(),{analytics:d}=(0,I.pn)(),{isGoodBot:u}=(0,_.l)(),p=(0,j.A)(),{hasAccess:m}=(0,C.M)(),h=e=>{r(e),d.inlineClick(`searchBar.${e}`)},g=(0,A.useMemo)(()=>Object.keys(s).filter(e=>{let t=c&&e===S.nE,r=!m&&e===S._g;return!t&&!r}),[s,c,m]);return(0,a.jsx)(i.A,{container:!0,alignItems:"center",justifyContent:"center",sx:$.categoriesGridContainer,role:"tablist","aria-label":o("search_categories_aria_label"),children:g.map(e=>{let{Icon:r,value:i,label:l,href:c}=s[e],{parent:d}=f.h4[t]||{},m=s[t]||{},g="parent"in m,b=t===i||(g?m.parent:d)===i,v=u?{component:x.j,href:c}:{value:i,onClick:()=>h(i),autoFocus:!1,component:"button"},S=[$.menuItem,b&&$.selectedMenuItem,p&&$.menuItemLoggedOutUHP,n||{}];return(0,a.jsxs)(y.A,{sx:S,autoFocus:!1,disableTouchRipple:!0,tabIndex:b?0:-1,"aria-selected":b,onKeyDown:M,...v,...B(i),role:"tab",children:[(0,a.jsx)(r,{sx:$.icon}),(0,a.jsx)(w.A,{primaryTypographyProps:{variant:"body2"},primary:o(l),"data-automation":l})]},i)})})};var L=r(279278),E=r(529676),D=r(745579),O=r(851339),P=r(807703);let U=(e,t)=>{let{analyticsLabel:r,value:a}=f.h4[t];return`${e}.${r||a}`},G=(0,P.n9)()(e=>{let{palette:t,breakpoints:r,tokens:{border:a,spacing:s,color:i}}=e,n=t.mode===O.Xh.DARK?t.common.white:t.common.black;return{menuButton:{display:"flex",alignItems:"center",height:"50px",boxSizing:"border-box",backgroundColor:i.white,"&:focus, &:hover":{backgroundColor:i.white},borderRadius:a.radius.l},icon:{marginRight:s.s},label:{paddingRight:s.base},assetTypeCategories:{marginRight:s.base,[r.down("md")]:{marginRight:s.s}},menuDropdown:{cursor:"default"},iconDropdown:{[r.down("md")]:{marginRight:"-12px"}},assetTitle:{color:n,[r.down("md")]:{display:"none"}},select:{display:"flex !important",alignItems:"center"}}}),N=e=>{let{selectedAssetType:t,setSelectedAssetType:r}=e,{classes:s,cx:n}=G(),{t:c}=(0,k.Bd)(l.Do_),{isBrandEnterprise:d}=(0,T.P)(),{analytics:u}=(0,I.pn)(),p=(0,I.vl)(),m=(0,A.useCallback)(e=>{let{Icon:t,label:i,value:n}=e;return(0,a.jsxs)(y.A,{value:n,onClick:()=>r(n),children:[(0,a.jsx)(t,{color:"primary",className:s.icon}),(0,a.jsx)(w.A,{primaryTypographyProps:{variant:"body2"},primary:c(i),"data-automation":n})]},n)},[s.icon,c,r]),{hasAccess:h}=(0,C.M)(),{Icon:g,label:b,parent:v}=f.h4[t],x=c(b),_=c("search_by",{ASSET_TYPE:x}),j=(0,A.useCallback)(e=>{let{value:t}=e,r=f.Tx[t].subCategories??{};return Object.keys(r).filter(e=>{let t=d&&e===S.nE,r=!h&&e===S._g;return!t&&!r}).map(e=>m(r[e]))},[d,h,m]);return(0,a.jsx)(i.A,{alignItems:"center",justifyContent:"center",className:s.assetTypeCategories,children:f.Tx[t]?.subCategories||v?(0,a.jsx)(L.A,{variant:"outlined",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0},color:"primary",className:s.menuButton,onClick:()=>{u.inlineClick(U(p,t))},inputProps:{"aria-label":_},"data-automation":"assetCategoryDropDown",input:(0,a.jsx)(E.A,{}),classes:{icon:s.icon,select:s.select},value:t,renderValue:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{color:"primary",className:s.icon}),(0,a.jsx)(w.A,{primary:c(b),className:s.label})]}),children:j(f.Tx[v]||f.Tx[t])}):(0,a.jsx)(D.A,{component:"div",variant:"outlined",className:n(s.menuButton,s.menuDropdown),"aria-label":_,"data-automation":"assetCategoryButton",startIcon:(0,a.jsx)(g,{className:s.iconDropdown}),disableTouchRipple:!0,disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,tabIndex:-1,children:(0,a.jsx)(o.A,{variant:"body1",className:s.assetTitle,children:x})})})};var F=r(788817),W=r(805839),z=r(107849),V=r(886121),q=r(498955),K=r(339713),H=r(428776),Q=r(807681);let Y={[S.W1]:{label:"common:filters_image_type_all",Icon:W.AllImages,value:S.W1},[S.vo]:{label:"common:filters_image_type_photo",Icon:q.Photos,value:S.vo,analyticsLabel:`${S.W1}-${S.vo}`,parent:S.W1},[S.kc]:{label:"common:image_size_vector",Icon:H.Vectors,value:S.kc,analyticsLabel:`${S.W1}-${S.kc}`,parent:S.W1},[S.$E]:{label:"common:filters_image_type_illustration",Icon:z.Illustrations,value:S.$E,analyticsLabel:`${S.W1}-${S.$E}`,parent:S.W1},[S.KB]:{label:"common:filters_image_type_ai_generated",Icon:F.AIGenerated,value:S.KB,analyticsLabel:S._m,parent:S.W1},[S.G_]:{label:"site-header:video",Icon:Q.Video,value:S.G_},[S.on]:{label:"common:links_music",Icon:V.Music,value:S.on},[S.M9]:{label:"site-header:sfx",Icon:K.SoundEffects,value:S.M9}},{[S.KB]:J,...Z}=Y,X={...Z,[S.vo]:{...Z[S.vo],nested:!0},[S.kc]:{...Z[S.kc],nested:!0},[S.$E]:{...Z[S.$E],nested:!0}},ee={[S.W1]:{...Y[S.W1],label:"common:links_images",href:"/search",subCategories:{[S.W1]:Y[S.W1],[S.vo]:Y[S.vo],[S.kc]:Y[S.kc],[S.$E]:Y[S.$E]}},[S.G_]:{...Y[S.G_],href:"/video/search"},[S.on]:{...Y[S.on],href:"/music/search"},[S.M9]:{...Y[S.M9],href:"/sound-effects/search"}},et={[S.W1]:{...Y[S.W1],label:"common:links_images",href:"/search",subCategories:{[S.W1]:Y[S.W1],[S.vo]:Y[S.vo],[S.kc]:Y[S.kc],[S.$E]:Y[S.$E]}},[S.vo]:{...Y[S.vo],parent:null,href:"/photos"},[S.kc]:{...Y[S.kc],href:"/vectors",parent:null},[S.$E]:{...Y[S.$E],href:"/search?image_type=illustration",parent:null}},er={[S.G_]:{...Y[S.G_]}},ea=p()(()=>r.e(85272).then(r.bind(r,940278)).then(e=>({default:e.SearchByAssetDialog})),{loadableGenerated:{webpack:()=>[940278]},ssr:!1});var es=r(926822),ei=r(727326),en=r(821790),eo=r(420772),el=r(738973),ec=r(34504),ed=r(633449),eu=r(461266),ep=r(398350),em=r(981278);let eh=p()(()=>r.e(70865).then(r.bind(r,957465)).then(e=>({default:e.RASDetailsTour})),{loadableGenerated:{webpack:()=>[957465]},ssr:!1}),eg=(0,P.n9)()((e,t)=>{let{breakpoints:r,palette:a,tokens:{border:s,spacing:i,radius:n}}=e,{splitCategories:o,extraTopMargin:l}=t;return{gridRoot:{width:"100%",borderRadius:s.radius.l,maxHeight:en.kT,marginTop:l?i.base:void 0,...o&&{background:"transparent"}},searchBarGridRoot:{display:"flex",alignItems:"center",width:"100%",position:"relative",border:`${s.width.s} solid ${a.border2Color}`,borderRight:"none",overflow:"hidden",background:a.background.default,...o&&{borderRadius:`${n.l} 0 0 ${n.l}`}},filterDrawerIcon:{borderRadius:0,borderTop:`${s.width.s} solid ${a.border2Color}`,borderBottom:`${s.width.s} solid ${a.border2Color}`,borderLeft:`${s.width.s} solid ${a.border2Color}`,color:a.primary.main},filterIconMd:{[r.up("md")]:{display:"none"}},filterIconSm:{[r.up("sm")]:{display:"none"}},searchByAssetGridRoot:{display:"flex",alignItems:"center",border:`solid ${a.border2Color}`,borderWidth:s.width.s,background:a.background.default,[r.down("lg")]:{border:"none"}},searchByAssetIconButton:{padding:`0 ${i.s}`},assetTypeSelection:{display:"flex",background:a.background.default,borderRadius:`${n.l} 0 0 ${n.l}`,...o&&{marginRight:i.m,borderRadius:`${n.l}`,[r.down("md")]:{marginRight:i.s}}},searchBarButtons:{display:"flex"},searchButton:{height:"100%"},reverseSearchImageButton:{paddingLeft:i.base,paddingRight:i.base,borderRadius:s.radius.l},reverseSearchImageGrid:{marginLeft:i.s,borderRadius:s.radius.l},reverseSearchImageText:{color:a.text.primary},assetTypeContainer:{[r.down("md")]:{display:"none"}}}}),ef=(0,A.memo)(function(e){let{RASTourStop:t}=e,r=(0,s.A)(e=>e.breakpoints.up("lg"));return t&&r?(0,a.jsx)(c.z,{children:(0,a.jsx)(eh,{})}):null}),eb=(0,A.memo)(function(e){let{showSearchByAsset:t,overrideReverseImageStyle:r,classes:s,RASTourStop:l,t:c,cx:u,setOpenedSearchDialog:p,selectedAssetType:m}=e;return Object.keys(b.C6).filter(e=>t[e]).map(e=>{let{title:t,Icon:g}=b.C6[e];return(0,a.jsx)(i.A,{className:r?u(s.searchByAssetGridRoot,s.reverseSearchImageGrid):u(s.searchByAssetGridRoot,s.searchByAssetIconButton),"data-tour-stop":l,children:(0,a.jsx)(n.A,{sx:{display:{xs:"none",lg:"block"}},children:(0,a.jsx)(d.D,{title:c(t),placement:"top",children:(0,a.jsxs)(h.K,{"data-tour-stop":"reverse-image-search-button","aria-label":c(t),classes:{root:r?s.reverseSearchImageButton:s.searchByAssetIconButton},onClick:()=>p(e),clickTrack:`${ei.cg$}.${f.ar[e].value}Button`,size:"large",children:[(0,a.jsx)(g,{}),r&&(0,a.jsx)(o.A,{ml:3,component:"span","data-automation":"ReverseSearch_ImageButton",className:s.reverseSearchImageText,children:c(m===S.on?"music:reverse_audio_search_page_title":"image:reverse_image_search_page_title")})]})})})},e)})}),ev=(0,A.memo)(e=>{let{className:t="",disableBorder:r=!1,hideSearchByAsset:s=!1,openFilterDrawer:n=eu.lQ,showSelectedAssetTypeLabel:o=!0,allowFilterDrawerIcon:c=!1,splitCategories:d=!1,showUhpAssetTypeMainCategory:u=!1,showUhpAssetTypeSelection:p=!1,isUnlimitedExperience:y=!1,extraTopMargin:w=!0,imageGridVariant:x=0,videoLPGridVariant:_=0,assetTypeDropdownOverrideDCVR1933:C=null}=e,j=(0,em.useRouter)(),{classes:B,cx:M}=eg({splitCategories:d,extraTopMargin:w}),{t:$}=(0,k.Bd)([l.Do_]),{decodeSearchTerm:L}=(0,ec.B)(),{isBrandEnterprise:E}=(0,T.P)(),{query:{term:D,prompt:O}}=j,{assetSubType:P,fullAssetType:U}=(0,ed.BF)(),G=L(U===S._g?O:D),[F,W]=(0,A.useState)(C||P),z=(0,A.useRef)(C||P);(0,A.useEffect)(()=>{z.current=F},[F]);let V=(0,A.useMemo)(()=>({[S.W1]:!b.E$.includes(S.eG[F]||F)&&!s,[S.on]:F===S.on&&!s}),[F,s,!0,E]),q=f.h4[F]?.parent??F,K=(0,eo.C)(),H=(0,A.useRef)(null),Q=K||H,{doSearch:Y}=(0,el.SQ)({assetType:F}),J=()=>{Y(Q?.current?.value)},[Z,en]=(0,A.useState)(null),eh=V[S.on]?b.FW:"",ev=V[S.W1]||V[S.on],ey=(0,a.jsx)(eb,{showSearchByAsset:V,overrideReverseImageStyle:ev,classes:B,RASTourStop:eh,t:$,cx:M,setOpenedSearchDialog:en,selectedAssetType:F});return(0,a.jsxs)(I.SX,{value:ei.cg$,children:[u&&(0,a.jsx)("div",{className:B.assetTypeContainer,children:(0,a.jsx)(R,{selectedAssetType:F,setSelectedAssetType:W,...y&&{assetTypeMap:1===_?er:1===x?et:ee,customMenuItemStyles:{m:"0 20px",color:"white"}}})}),(0,a.jsxs)(i.A,{container:!0,className:M(B.gridRoot,t),"data-automation":"SearchBarContainer",...p?{role:"tabpanel",id:`${q}-tab-panel`,"aria-labelledby":`${q}-tab`}:{},children:[p?(0,a.jsx)(N,{selectedAssetType:F,setSelectedAssetType:W}):(0,a.jsx)(i.A,{className:B.assetTypeSelection,size:"auto",children:(0,a.jsx)(g.j,{disableBorder:r,searchTerm:G,selectedAssetType:F,setSelectedAssetType:W,showSelectedAssetTypeLabel:o,showSearchByAsset:V,openSearchDialog:en,splitCategories:d,...y&&{assetTypesToInclude:Object.keys(1===_?er:X)}})}),(0,a.jsx)(i.A,{className:B.searchBarGridRoot,size:"grow",children:(0,a.jsx)(v.I,{inputRef:Q,searchTerm:G,selectedAsset:F,prevSelectedAssetType:z?.current})}),!ev&&ey,(0,a.jsxs)(i.A,{className:B.searchBarButtons,children:[c&&(0,a.jsx)(h.K,{"aria-label":$("license-history:filter_button_closed"),classes:{root:M(B.filterDrawerIcon,B.filterIconMd)},onClick:n,labelTrack:ei.AKH,size:"large",children:(0,a.jsx)(ep.Filter,{})}),F===S._g?(0,a.jsx)(m,{className:B.searchButton,onClick:J}):(0,a.jsx)(es.Y,{className:B.searchButton,onClick:J}),ev&&ey]}),Z&&(0,a.jsx)(ea,{closeDialog:()=>en(null),dialogType:Z,assetType:F,isDialogOpen:!0}),(0,a.jsx)(ef,{RASTourStop:eh})]})]})})},470235:(e,t,r)=>{r.r(t),r.d(t,{DynamicSnackbar:()=>c});var a=r(406029),s=r(648973),i=r(461266),n=r(455729),o=r(34552),l=r(816641);let c=e=>{let{alertAction:t={},alertSeverity:r=s.rD,error:c,handleSnackbarClose:d=i.lQ,isOpen:u,message:p="",onSnackbarExited:m=i.lQ,isDismissible:h=!0,anchorOrigin:g=o.tH}=e,[f,b]=(0,n.useState)(!1);return(0,a.jsx)(a.Fragment,{children:u||f?(0,a.jsx)(l.F,{alertAction:t,alertSeverity:r,error:c,handleSnackbarClose:d,isOpen:u,message:p,onSnackbarExited:m,setEntered:b,isDismissible:h,anchorOrigin:g},p):null})}},477222:(e,t,r)=>{r.d(t,{En:()=>u,Gb:()=>d,Ix:()=>p,LP:()=>g,Nx:()=>y,WI:()=>f,pQ:()=>w,wy:()=>v,zZ:()=>b});var a=r(646272),s=r(813631),i=r(728779),n=r(559067),o=r(573923),l=r(722442),c=r(559044);let d=e=>"Untitled"===e,u=function(){let{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},p=e=>{let t=!e?.role&&!e?.isPublic;return e?.role===n.Zh||t},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,r,a]=t.split("-");return{id:a,type:r===s.FY?s.on:r,aspect:1,src:"",previewImageUrl:""}},h=function(){let{metadata:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.tracking){let r;try{r=(0,o.fF)({trackingId:JSON.parse(e.tracking)?.search})}catch(t){r=(0,o.fF)({trackingId:e.tracking})}return{search_context:r,...t}}return t},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.mediaItem?.id?(0,l.cK)(e.mediaItem):t&&m(e)},f=(e,t)=>e?e.reduce((e,r)=>{let a=g(r,t);return e.collectionItems.push({...r,mediaItem:{...a,meta:h(r,r?.meta)}}),a&&e.mediaItems.push({...a,meta:h(r,a?.meta)}),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},b=e=>{let{assetType:t,t:r,totalItemCount:a}=e,i=t===s.uH,n=1===a,o=i?"ent:collection_editorial_total_single":`feature-collections:number_${s.GC[t]}_single`,l=i?"ent:collection_editorial_total_plural":`feature-collections:number_${s.GC[t]}_plural`;return r(n?o:l,{NUM_TRACKS:a})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===i.kS)},y=e=>{let{assets:t=[],assetType:r}=e;switch(r){case s.on:case s.FY:return t.some(e=>(0,c.pj)({track:e}));case s.W1:return t.some(e=>(0,c.Uh)(e));default:return!1}},w=e=>{let{assetType:t,isBrandSstk:r}=e;return r?a.i[t]:i.w$[t]}},497604:(e,t,r)=>{r.d(t,{e:()=>d,s:()=>c});var a=r(392684),s=r(532598),i=r(813631),n=r(531648),o=r(722442),l=r(559044);let c=e=>{let{asset:t}=e;switch((0,l.f0)(t)){case i.G_:return(0,o.ch)(Object.values(t.sizes));case i.W1:default:return(0,o.hp)(t?.sizes&&Object.values(t.sizes))}},d=e=>{let t,r,{asset:c,selectedAssetSize:d,selectedShadowsOption:u,isTitleNeeded:p=!1}=e,m=(0,n.ZC)({asset:c}),h=(0,l.R1)(c);(0,l.Kx)(c)&&(m=i.SL);let g=c.id.toString(),f=(0,n.Uw)({assetType:m,assetId:g});switch(m){case i.G_:case i.SL:t=d||(0,o.zS)({sizes:c.sizes})?.[0],r=t?.resolution;break;case i.FY:case i.M9:case i.on:t=d,r=t?.resolution;break;case i.vo:case i.kc:default:t=d||(0,o.hp)(c.sizes),[r]=t.name.split("_")}return{content_id:g,content_type:f,content_size:r,content_format:t?.format,...p?{content_title:c?.title}:{},...h?{...d.format===s.OA&&{include_shadows:"on"===u},angle:c?.angle||a.R}:{}}}},498848:(e,t,r)=>{r.d(t,{J:()=>d});var a=r(754725),s=r(932317),i=r(573923),n=r(323069),o=r(811407),l=r(946887),c=r(455729);let d=()=>{let{isBrandSstk:e}=(0,n.P)(),{searchTrackingIdRef:t,searchTermRef:r,setters:{setSearchTrackingId:d,setSearchTerm:u}}=(0,s.K6)(),p=(0,c.useCallback)(r=>{let{trackingId:s,term:i}=r;if(s){if(t.current===s&&(0,o.vb)()===s)return;(0,o.rv)(s),(0,o.Nh)(i),d(s),u(i),e&&l.A.set(a.lj,s,{expires:a.AY,sameSite:"strict"})}},[e,t,u,d]),m=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:a}=e,s=(0,i.Pf)({asset:e})||t.current||(0,o.vb)();return(0,i.fF)({trackingId:s?.uuid||s,searchTerm:a?.query||a?.search_context?.search_term||r.current||(0,o.lV)()})},[r,t]),h=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e?.[0]||e,{meta:a}=t,s=(0,i.Pf)({asset:t})||(0,o.vb)();return(0,i.fF)({trackingId:s,searchTerm:a?.query||a?.search_context?.search_term||r.current||(0,o.lV)()})},[r]);return{setSearchContext:p,getSearchContext:m,validateSearchTrackingId:(0,c.useCallback)(()=>{let s=(0,o.vb)(),i=t.current,n=r.current,c=(0,o.lV)();(i!==s||n!==c)&&((0,o.rv)(i),(0,o.Nh)(n),e&&l.A.set(a.lj,i,{expires:a.AY,sameSite:"strict"}))},[e,r,t]),getSearchContextFromAssets:h}}},503424:(e,t,r)=>{r.d(t,{G:()=>n});var a=r(84260),s=r(981278),i=r(455729);let n=()=>{let e=(0,s.useRouter)();return(0,i.useCallback)(t=>{let{assetType:r,collectionId:s,verificationCode:i}=t,n=(0,a.w)({assetType:r,id:s,verificationCode:i});e.push(...n)},[e])}},511625:(e,t,r)=>{r.d(t,{GD:()=>ep});var a=r(406029),s=r(926114),i=r(707447),n=r(57530),o=r(743381),l=r(813631),c=r(345307),d=r(821790),u=r(581298),p=r(957797),m=r(559044),h=r(233681),g=r(737006),f=r(34504),b=r(323069),v=r(345622),y=r(238638),w=r(691369),x=r(119349),S=r(839047),_=r(82281),C=r.n(_),T=r(981278),j=r(455729);let I=[d.z4,d.x3],k=[d.EG,d.HT,d.zr,d.lr],A=[l.m$,l.vo,l.KB],{publicRuntimeConfig:{enterpriseBaseUrl:B,shutterstockBaseUrl:M,premiumBeatBaseUrl:$}}=C()(),R=/\/search(\?|\/).+$/,L=/\/editorial\/(?:video\/)?search\/.+$/,E=/\/video\/editorial\/?search/,D=/\/music\/search\/ras\/.+$/,O=/\/music\/search(\?|\/).+$/,P=/\/video\/embed\/\d+$/,U=/.*\/edit$/,G=e=>R.test(e)&&!(L.test(e)||D.test(e)),N=e=>O.test(e)&&!(L.test(e)||D.test(e)),F=e=>P.test(e),W=e=>U.test(e),z=e=>E.test(e),V=e=>e.replace("video/editorial","editorial/video"),q=RegExp(`^/editorial/(${c.C0.join("|")})/`),K=e=>q.test(e),H=e=>e.replace(q,"/editorial/livefeed/"),Q=(e,t)=>{let r;if(!t)return r;let{query:a}=(0,S.Ru)(t),s=N(t),i=Object.entries(a).reduce((e,t)=>{let[r,a]=t;if(s&&k.includes(r)&&(e.push([r,Array.isArray(a)?a[0]:a]),s=!1),I.includes(r)&&!Array.isArray(a)){if(r===d.x3&&A.includes(a))return e;e.push([r,a])}return e},[]);if(i&&!i.length)return r;let n=Object.fromEntries(i.sort());return(0,S.FS)({pathname:e,query:n})},Y=function(){let{asset:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isBrandSstk:t}=(0,b.P)(),r=t?M:B,{asPath:a}=(0,T.useRouter)(),{locale:s}=(0,u.Y)(),{query:i,spellcheckInfo:{spellcheckedQuery:n="",origResultsCount:o}}=(0,p.Kg)(),{encodeSearchTerm:c}=(0,f.B)(),[d]=(0,g.$m)({asset:e});return{getCanonicalLink:(0,j.useCallback)(function(){let{appendLocale:t,code:u,isPremiumBeatTrack:p,overriddenSearchTerm:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=(0,S.Ru)((0,x.YT)(a))?.pathname??"",f=g;if(z(f)&&(f=V(f)),K(f)&&(f=H(f)),"/"!==d&&F(f)&&(f=d),W(f)&&(f="/"!==d?d:f.replace("/edit","")),G(a)){let e=Q(g,a);e&&(f=e);let t=(0,h.iC)(m||(0===o&&n?n:i),s,y.G),{query:r}=(0,S.Ru)(a);r.image_type===l.KB&&r.entity&&""===t?[f]=(0,v.ll)():f=(0,x.B)({path:f,term:c(t)})}return("/templates/search"===f&&(f="/templates"),p)?(f=`/royalty-free-tracks/${(0,x.Db)(e.title)}`,(0,x.ud)($+f,t&&(u||s))):(0,x.ud)(r+f,t&&(u||s))},[e,a,r,s,d,o,n,i,c])}},J=function(){let{overriddenSearchTerm:e,asset:t,assets:r,effectiveLanguage:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query:s,queryTranslations:i}=(0,p.Kg)(),{getCanonicalLink:n}=Y({asset:t}),{asPath:o}=(0,T.useRouter)(),{locale:l}=(0,u.Y)(),{encodeSearchTerm:c}=(0,f.B)(),d=n({appendLocale:!0,isPremiumBeatTrack:(0,m.pj)({track:t}),overriddenSearchTerm:e}),h=G(o),g=!h||"en"===l&&r&&r.length>0?n():"en"!==l&&i.en?n({code:"en",appendLocale:!0,overriddenSearchTerm:i.en}):void 0,b=w.Hn.reduce((e,t)=>{if(!i[t]&&l!==t&&h)return e;let r=i[t]||i.en,a=n({code:t,appendLocale:!0});return h&&r&&(a=a.replace(/\/search\/[^/?]*/,`/search/${c(r)}`)),e[t]={href:a,hrefLang:t},e},{});G(o)&&b[l]?.href!==d&&(b={},g=""),G(o)&&1===Object.keys(b).length&&b[l]&&(b={}),h&&void 0===b[l]&&(b[l]={href:d,hrefLang:l});let v=a;return h&&a&&"en"!==a&&["el","ja","ko","ru","th","zh"].includes(l)&&/^[\w\s\-_.,!?$@%#`~=+/\\*^()]*$/.test(s)&&(v="en"),h&&v&&v!==l&&("en"===v||(0,x.Wr)({effectiveLanguage:v}))&&void 0===b[v]&&(b[v]={href:n({code:v,appendLocale:!0}),hrefLang:v},void 0===b[l]&&(b[l]={href:d,hrefLang:l})),{altDefaultLink:g,altLinks:Object.values(b),canonicalLink:d}};var Z=r(633449),X=r(786921),ee=r(461266),et=r(795669),er=r.n(et),ea=r(568880);let es="Shutterstock",ei="Shutterstock Editorial",en=[["twitter:site","@shutterstock"],["twitter:card","summary_large_image"],["google-site-verification","1wsiFwGziBzqCcMecpMDlbZgN1jKL-Fh6m05QXpg4QY"]],eo=e=>{let{isBrandSstk:t}=e,r=(0,Z.eE)();return t&&r?ei:es},el=e=>{let{metaTitle:t,isBrandSstk:r,isSEO2077ExperimentEligible:a}=e,s=(0,Z.eE)()&&r;return a?t:t.includes(es)?s?t.replace(es,ei):t:`${t} | ${s?ei:es}`},ec=(e,t,r)=>({title:t||r("home:lihp_meta_title"),description:e||r("home:lihp_meta_description")}),ed=e=>{let{statusCode:t}=e,{t:r}=(0,ea.Bd)([s.HFO,s.kr_]),{isBrandSstk:i,isBrandEnterprise:o}=(0,b.P)(),l=(0,X.ab)(t)?t:n.Q,c=r(`error:status_${l}_title`),d=r(o&&t===n.Vv?`${s.kr_}::ent:no_access_content`:`error:status_${l}_subtitle`),u=el({metaTitle:c,isBrandSstk:i});return(0,a.jsxs)(er(),{children:[(0,a.jsx)("title",{children:u},"title"),(0,a.jsx)("meta",{name:"description",content:d},"description"),(0,a.jsx)("meta",{content:u,property:"og:title"},"og:title"),(0,a.jsx)("meta",{content:d,property:"og:description"},"og:description")]})},eu=e=>{let{headProps:t,seoServiceData:r,isBrandEnterprise:s}=e,{noIndex:n,noIndexNoFollow:o}=t,l="";if(!s&&r?.isSeoServiceActive&&r?.disposition)r.disposition===i.hx?l="index":r.disposition===i.r8?l="noindex,nofollow":r.disposition===i.lg?l="noindex":r.disposition===i.ZD&&(l="noindex,follow");else{if(s)return{robotsMetaTag:null,googlebotMetaTag:null};l=o?"noindex,nofollow":n?"noindex":"max-image-preview:large"}return{robotsMetaTag:(0,a.jsx)("meta",{name:"robots",content:l},"robots"),googlebotMetaTag:"max-image-preview:large"===l?null:(0,a.jsx)("meta",{name:"googlebot",content:l},"googlebot")}},ep=e=>{let{assets:t=ee.tR,description:r,image:l=ee.vB,title:c,schemas:d,statusCode:u,noIndex:p=!1,noIndexNoFollow:m=!1,keywords:h=ee.tR,isAdultContent:g=!1,contributor:f=ee.vB,children:v,ogMetadata:y=ee.vB,seoServiceData:w=ee.vB,asset:x,pageDescription:S,isSEO2077ExperimentEligible:_=!1,effectiveLanguage:C}=e,{t:T}=(0,ea.Bd)(s.K0D),{autocorrection:j}=(0,o.E)(),{altDefaultLink:I,altLinks:k,canonicalLink:A}=J({overriddenSearchTerm:w?.taxonomyCanonical||j,effectiveLanguage:C,asset:x,assets:t}),{isBrandSstk:B,isBrandEnterprise:M}=(0,b.P)(),{title:$,description:R}=ec(r,c,T),L=eo({isBrandSstk:B}),E=el({metaTitle:$,isBrandSstk:B,isSEO2077ExperimentEligible:_}),{robotsMetaTag:D,googlebotMetaTag:O}=eu({headProps:{noIndex:p,noIndexNoFollow:m},seoServiceData:w,isBrandEnterprise:M}),P=w?.disposition===i.R6&&w?.canonicalURL||A;return(0,a.jsxs)(a.Fragment,{children:[u>n.o3?(0,a.jsx)(ed,{statusCode:u}):(0,a.jsxs)(er(),{children:[v," ",(0,a.jsx)("title",{children:E},"title"),(0,a.jsx)("meta",{name:"description",content:S||R},"description"),(0,a.jsx)("meta",{content:y?.ogTitle?y?.ogTitle:E,property:"og:title"},"og:title"),(0,a.jsx)("meta",{content:y?.ogDescription?y?.ogDescription:R,property:"og:description"},"og:description")]}),(0,a.jsxs)(er(),{children:[en.map(e=>{let[t,r]=e;return(0,a.jsx)("meta",{name:t,content:r},t)}),(0,a.jsx)("meta",{content:"website",property:"og:type"},"type"),(0,a.jsx)("meta",{content:L,property:"og:site_name"},"site"),(0,a.jsx)("meta",{content:"604800",property:"og:ttl"},"og:ttl"),f.twitterUsername&&(0,a.jsx)("meta",{content:`@${f.twitterUsername}`,name:"twitter:creator"},"twitter:creator"),f.twitterTitle&&(0,a.jsx)("meta",{content:f.twitterTitle,name:"twitter:title"},"twitter:title"),f.twitterDescription&&(0,a.jsx)("meta",{content:f.twitterDescription,name:"twitter:description"},"twitter:description"),l.url&&(0,a.jsx)("meta",{content:l.url,property:"og:image"},"og:image"),l.width&&(0,a.jsx)("meta",{content:Math.round(l.width),property:"og:image:width"},"og:image:width"),l.height&&(0,a.jsx)("meta",{content:Math.round(l.height),property:"og:image:height"},"og:image:height"),l?.imageSmall?.url&&(0,a.jsx)("meta",{content:l.imageSmall.url,property:"og:image"},"og:imageSmall"),l?.imageSmall?.width&&(0,a.jsx)("meta",{content:Math.round(l.imageSmall.width),property:"og:image:width"},"og:imageSmall:width"),l?.imageSmall?.height&&(0,a.jsx)("meta",{content:Math.round(l.imageSmall.height),property:"og:image:height"},"og:imageSmall:height"),l.alt&&(0,a.jsx)("meta",{content:l.alt,property:"og:image:alt"},"og:image:alt"),l?.videoUrl&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{content:l.videoUrl,property:"og:video:url"},"og:video:url"),(0,a.jsx)("meta",{content:l.videoUrl,property:"og:video:secure_url"},"og:video:secure_url"),l.width&&(0,a.jsx)("meta",{content:l.width,property:"og:video:width"},"og:video:width"),l.height&&(0,a.jsx)("meta",{content:l.height,property:"og:video:height"},"og:video:height"),(0,a.jsx)("meta",{content:l.videoUrl,property:"twitter:player"},"twitter:player")]}),P&&(0,a.jsx)("meta",{content:P,property:"og:url"},"og:url"),g?(0,a.jsx)("meta",{name:"rating",content:"adult"}):null,d&&d.map(e=>{let{type:t,contentType:r,innerHTML:s}=e;return(0,a.jsx)("script",{type:t,dangerouslySetInnerHTML:{__html:s}},r)}),P&&(0,a.jsx)("link",{rel:"canonical",href:P}),w?.seo1830HrefLang&&(0,a.jsx)("link",{rel:"alternate",href:w?.seo1830Href,hrefLang:w?.seo1830HrefLang}),k&&k.filter(e=>!w?.seo1830HrefLang||"en"!==e.hrefLang).map(e=>{let{href:t,hrefLang:r}=e;return(0,a.jsx)("link",{rel:"alternate",href:t,hrefLang:r},r)}),I&&!w?.seo1830HrefLang&&(0,a.jsx)("link",{rel:"alternate",href:I,hrefLang:"x-default"}),!!h?.length&&(0,a.jsx)("meta",{name:"keywords",content:h.join(", ")}),D,O]})]})}},555675:(e,t,r)=>{r.d(t,{C6:()=>o,E$:()=>n,FW:()=>l});var a=r(813631),s=r(761698),i=r(23008);let n=[a.on,a.uH,a.K2,a.YS,a.M9,a._g,a.nE,a.m$],o={[a.W1]:{title:"image:reverse_image_search_page_title",Icon:s.SearchByImage},[a.on]:{title:"music:reverse_audio_search_page_title",Icon:i.h}},l="RAS-icon"},629749:(e,t,r)=>{r.d(t,{v:()=>i});var a=r(455729),s=r(157535);let i=()=>(0,a.useContext)(s.j)},644783:(e,t,r)=>{r.d(t,{Kq:()=>f,XO:()=>m,c0:()=>h,gB:()=>g,nS:()=>c,oz:()=>d,vj:()=>p,yQ:()=>u});var a=r(338436),s=r(813631),i=r(559044),n=r(962316),o=r(498917);let l=[s.G_],c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!n.R6||"string"!=typeof e||e.includes(`ip=x${t}`))return e;try{let r=new URL(e);return r.searchParams.set("ip",`x${t}`),r.href}catch{return e}},d=e=>e?.mediaItem?{previewImageUrl:e.mediaItem?.previewImageUrl,previewVideoUrls:e.mediaItem?.previewVideoUrls}:{previewImageUrl:e?.thumbImageUrl||e?.image?.url||e?.previewImageUrl||e?.imageVariants?.["500"],previewVideoUrls:e?.previewVideoUrls},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!((0,i.aH)(e)||(0,o.$F)(e))){let t=e.src||e.image?.url;return r&&e?.displays?.[a.nQ]?.src||t}let{previewImageUrl:s}=d(e);return c(s,t)},p=e=>{let{assetType:t}=e;return t===s.G_?"mp4":null},m=e=>{let{asset:t}=e;return l.includes((0,i.f0)(t))&&!(0,i.Kx)(t)},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.lF)(e?.type))return e?.width>1e3?`${e?.previewUrls[0]}?width=1000`:e?.previewUrls[0];let t=(0,i.$9)(e)?a.pI:a.jx,r=e?.displays?.[t]?.src||e?.image?.displays?.[t]?.src;return(0,i.R1)(e)&&e.angle?r.replace(/\/([A-Z]\d\d)./,`/${e.angle}.`):r},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.f0)(e);return t===s.W1||t===s.wt||t===s._g?e?.displays?.[a.pI]?.src||e?.src:t===s.o9?e?.imageVariants?.["1500"]:t===s.on||t===s.M9?e?.previewMp3:t===s.nE?e?.previewUrls[0]:t===s.gv?e.cmsEntry?.image?.url:null},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={width:e.width??e.mediaItem?.width??0,height:e.height??e.mediaItem?.height??0};if((0,i.aH)(e)&&(!r.width||!r.height)&&e.sizes){let t=Object.keys(e.sizes).find(t=>e.sizes[t]);r.width=t&&e.sizes[t].width||0,r.height=t&&e.sizes[t].height||0}if(t&&(!r.width||!r.height)&&e.aspectRatioCommon){let[t,a]=e.aspectRatioCommon.split(":");r.width=Number(t),r.height=Number(a)}return r}},674951:(e,t,r)=>{r.d(t,{T:()=>p,f:()=>u});var a=r(813631),s=r(660948);let i="userCan",n=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`,o={[a.Eq]:{suffix:a.Eq,baseMediaType:a.Eq},[a.WI]:{suffix:"EditorialEssentialsImage",baseMediaType:a.Eq},[a.aE]:{suffix:a.aE,baseMediaType:a.aE},[a.c2]:{suffix:"EditorialEssentialsVideo",baseMediaType:a.aE},[a.nP]:{suffix:"SelectVideo",baseMediaType:a.G_},[a.e$]:{suffix:a.e$,baseMediaType:a.W1},[a.K2]:{suffix:a.K2,baseMediaType:a.W1},[a.YS]:{suffix:a.YS,baseMediaType:a.G_},[a.G_]:{suffix:a.G_,baseMediaType:a.G_},[a.KS]:{suffix:a.KS,baseMediaType:a.on},[a.ZT]:{suffix:a.ZT,baseMediaType:a.on},[a.Qj]:{suffix:a.Qj,baseMediaType:a.on},[a.W1]:{suffix:a.W1,baseMediaType:a.W1},[a.oh]:{suffix:a.oh,baseMediaType:a.W1},[a.SL]:{suffix:a.SL,baseMediaType:a.G_},[a.M6]:{suffix:a.M6,baseMediaType:"PremiumImage"},[a.wF]:{suffix:a.wF,baseMediaType:"PremiumVideo"},[a.dB]:{suffix:a.dB,baseMediaType:"CallForPriceImage"},[a.XV]:{suffix:a.XV,baseMediaType:"CallForPriceVideo"},[a.M9]:{suffix:a.LZ,baseMediaType:a.M9}},l=e=>{let{value:t,userCapabilities:r,suffix:a}=e;return{[`${i}${n(t)}`]:r[`${i}${n(t)}${n(a)}`]}},c=e=>{let{action:t,baseMediaType:r}=e;return`${i}${n(t)}${n(r)}`},d=e=>{let{suffix:t,baseMediaType:r,userCapabilities:a}=e;return t&&r?{...l({value:s.gR,userCapabilities:a,suffix:t}),...l({value:s.mi,userCapabilities:a,suffix:t}),...l({value:s.qD,userCapabilities:a,suffix:t}),...l({value:"BeUpsold",userCapabilities:a,suffix:t}),userCanLicenseMediaType:a[c({baseMediaType:r,action:s.mi})],userCanCompMediaType:a[c({baseMediaType:r,action:s.qD})]}:{}},u=e=>{let{assetType:t}=e;return Object.keys(o).includes(t)},p=e=>{let{assetType:t,userCapabilities:r}=e;return r.isLoading?{}:d({...o[t]||{},userCapabilities:r})}},700661:(e,t,r)=>{r.d(t,{M:()=>n});var a=r(406029),s=r(455729),i=r(263607);let n=e=>{let{allSizesAssetEligibility:t,asset:r,extraConfirmationDrawerContent:n,drawerStatusMessageProps:o,children:l}=e;return(0,a.jsx)(i.A.Provider,{value:(0,s.useMemo)(()=>({allSizesAssetEligibility:t,asset:r,extraConfirmationDrawerContent:n,drawerStatusMessageProps:o}),[t,r,n,o]),children:l})}},729140:(e,t,r)=>{r.d(t,{H:()=>l});var a=r(573923),s=r(559044),i=r(498848),n=r(586694),o=r(455729);let l=()=>{let{analytics:e}=(0,n.pn)(),{getSearchContext:t}=(0,i.J)();return(0,o.useCallback)(r=>{let{asset:i,eventLabel:n,gridItems:o,isPreview:l,listId:c,pageSection:d}=r,u=(0,a.I2)(i),p=(0,a.e2)(i),m=(0,a.Oc)(i);e.productViewed({eventLabel:n,list_id:c??"",page_section:d,asset_type:(0,s.x4)(i),category:(0,a.bW)(i),channels:(0,a.Jp)(i),is_preview:l,name:(0,a.H0)(i),product_id:u,search_context:t(i),sku:u,...o&&o?.length>1?(0,a.aW)({gridItems:o,item:i}):{},...p&&{brand:p},...m&&{product_line:m}})},[e,t])}},737006:(e,t,r)=>{r.d(t,{$m:()=>p,sD:()=>u});var a=r(813631),s=r(581298),i=r(722442),n=r(559044),o=r(791789),l=r(886213),c=r(691369);r(455729);let d=e=>{let{asset:t,assetType:r,slugify:s,locale:i}=e;if(t?.isRexEditorial)return s({description:t.description});switch(r){case a.nE:return s({description:t?.description});case a.G_:return s({description:t?.descriptionLanguageMap?.[c.P4]||t?.description||t?.descriptionLanguageMap?.[i]});case a.M9:case a.on:case a.Kq:return t?.slug||s({description:t?.title});default:return null}},u=e=>{let{asset:t,getRoutePathProps:r,slugify:a,locale:s,...o}=e,l=(0,n.f0)(t),c=(0,i.gG)(t),u=d({asset:c,slugify:a,assetType:l,locale:s});return r({...c,item:t,assetType:l,slug:u,...o})},p=e=>{let{asset:t,getRoutePathProps:r=l.m,...a}=e,i=(0,o.r)(),{locale:n}=(0,s.Y)();return u({asset:t,getRoutePathProps:r,slugify:i,locale:n,...a})}},743381:(e,t,r)=>{r.d(t,{E:()=>i});var a=r(957797),s=r(106222);let i=()=>{let{spellcheckInfo:e}=(0,a.Kg)();return(0,s.h9)({spellcheckInfo:e})}},760973:(e,t,r)=>{r.d(t,{N:()=>l});var a=r(487519),s=r(648973),i=r(728779),n=r(531950),o=r(455729);let l=()=>{let[e,t]=(0,o.useState)({status:"",error:void 0}),r=(0,o.useCallback)(async e=>{let{collection:r,mediaItem:o}=e,l=(0,a.Xz)({urlParams:{id:r.id}}).formattedUrl,c={data:{id:r.id,relationships:{"cover-item":{data:{id:`${o.id}`,type:i.kS}}},type:i.I}};try{t({status:s.qO,error:void 0}),await n.Bn.patch(l,c)}catch(e){t({status:s.Nz,error:e})}},[]);return{status:e,setStatus:t,setAsCover:r}}},762643:(e,t,r)=>{r.d(t,{r:()=>l});var a=r(315888),s=r(398426),i=r(813631),n=r(930500),o=r(559044);let l=e=>{let{subscriptions:t,asset:r}=e;if(!Array.isArray(t)||0===t.length)return!1;let l=(0,o.sY)(r),c=(0,o.f0)(r);return t.some(e=>{let{product:t}=e,{status:r,name:o,businessUnit:d}=t,u=a.Wj1.includes(o);return r===n.Ds&&(!!(d===c||l&&u||c===i.M9&&s.Be.includes(o))||"none"===d&&!u)})}},786380:(e,t,r)=>{r.d(t,{tz:()=>p,IF:()=>d,gu:()=>m});var a=r(563609);let s=JSON.parse('{"id":"69774f883b8066b1ec773ff62b2e93799d106cdcad4901dad809c5171ef69a28","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{classicId ipReviewStatus{isAppealable rejectionReasons status __typename}isIpReviewed __typename}__typename}}"}');var i=r(946131),n=r(320437),o=r(293251),l=r(12482),c=r(455729);let d=e=>{let{assetIds:t}=e;return[s.source,{where:{classicIds:t}}]},u=e=>e?.creativeImages?.data?e.creativeImages.data.filter(e=>null!==e).map(e=>{let t=e?.isIpReviewed||!1,r=e?.classicId||"";return{classicId:r,isIpReviewed:t,ipReviewStatus:e?.ipReviewStatus?.status||"",isAppealable:e?.ipReviewStatus?.isAppealable??!1,queryKey:d({assetIds:[r]})}}):[],p=async(e,t)=>{let[r,a]=t;return e(r,a).then(u)},m=(e,t)=>{let{assetIds:r}=e,s=(0,i.s)("/"),u=(0,n.v)(),m=(0,o.jE)(),h=d({assetIds:r}),g=(0,c.useCallback)(e=>{let{reviewStatus:t}=e;return m.setQueryData(h,e=>[{...e[0],isIpReview:!1,ipReviewStatus:t}]),m.invalidateQueries({queryKey:h,predicate:e=>{let{queryKey:t}=e;return t===h}})},[h,m]),{data:f,isLoading:b,error:v}=(0,l.I)({enabled:t,queryKey:h,queryFn:e=>{let{queryKey:t}=e;return p(s,t)},throwOnError(e,t){let{queryKey:r}=t;return e&&u({error:e,msg:a.a_,customAttributes:{queryKey:r}}),!1}});return{data:f,error:v,isLoading:b,updateReviewStatus:g}}},786921:(e,t,r)=>{r.d(t,{IK:()=>d,PQ:()=>o,ab:()=>c,hm:()=>n,tP:()=>l});var a=r(57530);let s=[a.Vv,a.Oe,a.lq,a.bP],i=[...s,a.Q],n=e=>{let t="string"==typeof e?parseInt(e,10):e;return s.includes(t)},o=e=>{let t="string"==typeof e?parseInt(e,10):e;return a.Oe===t},l=e=>{let t="string"==typeof e?parseInt(e,10):e;return[a.Vv,a.lq].includes(t)},c=e=>i.includes(parseInt(e,10)),d=e=>{let{error:t}=e;if("string"==typeof t)return 500;if(t?.code==="ERR_NOCK_NO_MATCH")return 417;if(t?.message?.startsWith("timeout"))return 524;if(t?.code==="ENETUNREACH")return 419;if("EOPENBREAKER"===t.code)return 518;let{status:r}=t?.response||t;return r||500}},788098:(e,t,r)=>{r.d(t,{H:()=>a});let a=e=>{let{subPage:t,pageType:r}=e;return[t,r].join("-")}},818360:(e,t,r)=>{r.d(t,{K:()=>n});var a=r(995561),s=r(188116),i=r(674951);let n=e=>{let{assets:t,userCapabilities:r}=e;return r?.isLoading?a.d2:t?.reduce(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{userCanView:a,userCanLicense:n,userCanBeUpsold:o,userCanComp:l,userCanLicenseMediaType:c,userCanCompMediaType:d}=(0,i.T)({assetType:(0,s.q)(t),userCapabilities:r});return a||e.view.push(t.id),n||e.license.push(t.id),l||e.comp.push(t.id),o||e.upsell.push(t.id),c||e.mediaTypeLicense.push(t.id),d||e.mediaTypeComp.push(t.id),e},{view:[],license:[],comp:[],upsell:[],mediaTypeLicense:[],mediaTypeComp:[]})||a.d2}},818984:(e,t,r)=>{r.d(t,{l:()=>m});var a=r(406029),s=r(907422),i=r(838840),n=r(97959),o=r(648973),l=r(515729),c=r(274079),d=r(377848),u=r.n(d),p=r(455729);let m=e=>{let{classesProps:t={},clickAnalyticsLabel:r="",errorMessage:d,successMessage:m,text:h="",label:g="",Component:f=n.K,tooltip:b,overrideCopyIconSizeFromStyle:v=!1}=e,{enqueueSnackbar:y}=(0,l.d)(),w=!h,x=(0,p.useCallback)(async()=>{try{await u()(h),y({message:m,alertSeverity:o.qO,isDismissible:!0})}catch(e){e&&y({message:d,alertSeverity:o.Nz,error:e,isDismissible:!0})}},[y,d,m,h]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.A,{display:"inline-flex",flexDirection:"column",justifyContent:"center",textAlign:"center",mx:1,children:(0,a.jsx)(i.D,{title:b,placement:"top",children:(0,a.jsxs)(f,{"aria-label":b,className:t.copyToClipboard,clickTrack:r,disabled:w,onClick:()=>x(),size:"small",children:[(0,a.jsx)(c.Copy,{fontSize:v?void 0:"small",className:t.copyIcon}),g]})})})})}}}]);
//# sourceMappingURL=20588-27447ecaf30e8989.js.map